import{d as I,c as x,j as h,x as B,m as E,a as m,o as u,e as l,u as e,g as O,w as d,b as n,f as z,i as p,h as c,t as _,q as M,k as i,F,W as P,S as j}from"./app-DLF9ENt6.js";import{_ as A,a as w,P as L,b as W}from"./Tooltip.vue_vue_type_script_setup_true_lang-Cxu7Ka6T.js";import{_ as q}from"./Select.vue_vue_type_script_setup_true_lang-G2Ij4qMo.js";import{_ as H,e as G}from"./options-CDr-3_VA.js";import{_ as v}from"./index-Dgon1quf.js";import{p as J,T as Q,_ as R}from"./pickBy-CWkWFL6Y.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-B65uer2a.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-B8-UAsF-.js";import{_ as X,L as Y}from"./Switch.vue_vue_type_script_setup_true_lang-bRKm5iUr.js";import{_ as Z}from"./Textarea.vue_vue_type_script_setup_true_lang-DW5HuoEi.js";import{u as ee,_ as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-6_eINdig.js";import{_ as te}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-Cjp6B7k7.js";import{s as ae}from"./slug-xwoAxeGq.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-xLjRZqAa.js";import"./RovingFocusGroup-CGRD81UO.js";import"./useForwardExpose-BB69YxuR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Bff7cFfc.js";import"./check-iUSvw4j_.js";import"./useFormControl-D2i4wKpN.js";import"./VisuallyHiddenInput-DQgduykt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhaSU889.js";import"./index-D8_8r1Of.js";const ie={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},re={class:"space-y-3"},le={class:"flex flex-wrap items-center justify-end gap-2"},oe={class:"grid w-full max-w-sm items-center gap-1.5"},ne={key:0,class:"text-destructive"},de={class:"grid w-full max-w-sm items-center gap-1.5"},ce={key:0,class:"text-destructive"},ue={class:"grid w-full max-w-sm items-center gap-1.5"},me={key:0,class:"text-destructive"},pe={class:"grid w-full max-w-sm items-center gap-1.5"},_e={key:0,class:"text-destructive"},fe={class:"grid w-full max-w-sm items-center gap-1.5"},ve={class:"flex items-center space-x-2"},ge={key:0,class:"text-destructive"},ye={class:"flex gap-2"},je=I({layout:te,__name:"Index",props:{materials:{},options:{}},setup(C){const V=C,{tenant:r}=ee(),y=x(()=>route().params),$=h({search:y.value.search,entries:y.value.entries||"10"}),g=h({create:{dialogIsOpen:!1}}),k={placeholder:"Search name..."},U=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Materials",href:route("materials.index",{tenant:(r==null?void 0:r.id)||""})}],D=a=>{P.visit(route("materials.index",{...J(a),tenant:(r==null?void 0:r.id)||""}))},S={id:!1,description:!1},K=[{accessorKey:"actions",header:()=>i("div",null,"Actions"),cell:({row:a})=>{const s=a.original;return i("div",{class:"flex items-center gap-2"},[i(w,{text:"Edit"},()=>i(j,{href:route("materials.edit",{tenant:(r==null?void 0:r.id)||"",material:s.id}),asChild:!0},()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>i(L,{class:"size-3"})))),i(W,{title:`Delete ${s.name}`,route:route("materials.destroy",{tenant:(r==null?void 0:r.id)||"",material:s.id}),asChild:!1},()=>i(w,{text:"Delete"},()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>i(Q,{class:"size-3"}))))])}},{accessorKey:"is_active",header:()=>i("div",null,"Active"),cell:({row:a})=>{const{is_active:s,is_active_display:o}=a.original;return i(R,{variant:s?"default":"destructive"},()=>o)}},{accessorKey:"id",header:()=>i("div",null,"Id"),cell:({row:a})=>i("div",null,a.getValue("id"))},{accessorKey:"name",header:()=>i("div",null,"Name"),cell:({row:a})=>i("div",null,a.getValue("name"))},{accessorKey:"code",header:()=>i("div",null,"Code"),cell:({row:a})=>i("div",null,a.getValue("code"))},{accessorKey:"description",header:()=>i("div",null,"Description"),cell:({row:a})=>i("div",null,a.getValue("description"))},{accessorKey:"unit_type",header:()=>i("div",null,"Unit Type"),cell:({row:a})=>i("div",null,a.original.unit_type_display||"")}],N=x(()=>{var a;return(a=V.options.statuses.find(s=>t.is_active?s.value:!s.value))==null?void 0:a.name}),t=B({name:"",code:"",description:"",unit_type:"",is_active:!0}),T=()=>t.post(route("materials.store",{tenant:(r==null?void 0:r.id)||""}),{onSuccess:()=>{t.reset(),g.create.dialogIsOpen=!1}});return E(()=>t.name,a=>{t.code=ae(a)}),(a,s)=>(u(),m(F,null,[l(e(O),{title:"Materials"}),l(se,{breadcrumbs:U},{default:d(()=>[n("div",ie,[n("div",re,[n("div",le,[l(e(A),{title:"Create Material",open:g.create.dialogIsOpen,"onUpdate:open":s[5]||(s[5]=o=>g.create.dialogIsOpen=o)},{trigger:d(()=>[l(e(v),{class:"cursor-pointer"},{default:d(()=>s[6]||(s[6]=[c("Create")])),_:1,__:[6]})]),default:d(()=>[n("form",{onSubmit:z(T,["prevent"]),class:"space-y-4"},[n("div",oe,[l(e(f),null,{default:d(()=>s[7]||(s[7]=[c("Name")])),_:1,__:[7]}),l(e(b),{type:"text",placeholder:"Enter Name","model-value":e(t).name,"onUpdate:modelValue":s[0]||(s[0]=o=>e(t).name=o)},null,8,["model-value"]),e(t).errors.name?(u(),m("p",ne,_(e(t).errors.name),1)):p("",!0)]),n("div",de,[l(e(f),null,{default:d(()=>s[8]||(s[8]=[c("Code")])),_:1,__:[8]}),l(e(b),{type:"text",placeholder:"Enter Code","model-value":e(t).code,"onUpdate:modelValue":s[1]||(s[1]=o=>e(t).code=o)},null,8,["model-value"]),e(t).errors.code?(u(),m("p",ce,_(e(t).errors.code),1)):p("",!0)]),n("div",ue,[l(e(f),null,{default:d(()=>s[9]||(s[9]=[c("Description")])),_:1,__:[9]}),l(e(Z),{placeholder:"Enter Description","model-value":e(t).description,"onUpdate:modelValue":s[2]||(s[2]=o=>e(t).description=o)},null,8,["model-value"]),e(t).errors.description?(u(),m("p",me,_(e(t).errors.description),1)):p("",!0)]),n("div",pe,[l(e(f),null,{default:d(()=>s[10]||(s[10]=[c("Unit Type")])),_:1,__:[10]}),l(e(q),{options:a.options.unit_types,placeholder:"Select Unit Type","model-value":e(t).unit_type,"onUpdate:modelValue":s[3]||(s[3]=o=>e(t).unit_type=o),"trigger-class":"w-full"},null,8,["options","model-value"]),e(t).errors.unit_type?(u(),m("p",_e,_(e(t).errors.unit_type),1)):p("",!0)]),n("div",fe,[l(e(f),{class:"mb-1"},{default:d(()=>s[11]||(s[11]=[c("Status")])),_:1,__:[11]}),n("div",ve,[l(e(X),{class:"cursor-pointer","model-value":e(t).is_active,"onUpdate:modelValue":s[4]||(s[4]=o=>e(t).is_active=o)},null,8,["model-value"]),l(e(f),null,{default:d(()=>[c(_(N.value),1)]),_:1})]),e(t).errors.is_active?(u(),m("p",ge,_(e(t).errors.is_active),1)):p("",!0)]),n("div",ye,[l(e(v),{type:"submit",class:"cursor-pointer",disabled:e(t).processing},{default:d(()=>[e(t).processing?(u(),M(e(Y),{key:0,class:"animate-spin"})):p("",!0),s[12]||(s[12]=c(" Create "))]),_:1,__:[12]},8,["disabled"])])],32)]),_:1},8,["open"])]),n("div",null,[l(e(H),{columns:K,"paginate-data":a.materials,"column-visibility":S,filter:$,"entry-options":e(G),"search-config":k,onFilterChange:D},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{je as default};
