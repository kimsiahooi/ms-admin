import{d as B,c as y,j as U,x as z,m as A,a as m,o as u,e as o,u as e,g as E,w as n,b as l,f as F,i as p,h as c,t as _,q as M,W as P,k as a,F as j,S as x}from"./app-D4D1FPWO.js";import{_ as I}from"./DeleteDialog.vue_vue_type_script_setup_true_lang-CK30g2Zt.js";import{_ as L,P as W}from"./Dialog.vue_vue_type_script_setup_true_lang-wFIRUaVS.js";import{_ as q,e as H,u as O}from"./options-DMv19O4Q.js";import{_ as f}from"./index-D-E7kQ8C.js";import{p as G,T as J,_ as Q}from"./pickBy-BcTIINjj.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-BVMcAEmX.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-CD0vXFcJ.js";import{s as R,_ as X,a as Y}from"./slug-Cyk__uYH.js";import{u as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-jSjUeixz.js";import{_ as se}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CPL4UQ8o.js";import{L as te}from"./loader-s7i3PLHG.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-Dnw0hd2Z.js";import"./RovingFocusGroup-CNVWVwok.js";import"./useForwardExpose-DxVldYz7.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-CRROMz83.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-nNzpClvt.js";import"./check-B4VE5Fn8.js";import"./useFormControl-5FMcE6pm.js";import"./VisuallyHiddenInput-ak-E9OTF.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Bwq7E9DB.js";import"./index-Ddm4jFuQ.js";const ae={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ie={class:"space-y-3"},re={class:"flex flex-wrap items-center justify-end gap-2"},oe={class:"grid w-full max-w-sm items-center gap-1.5"},le={key:0,class:"text-destructive"},ne={class:"grid w-full max-w-sm items-center gap-1.5"},de={key:0,class:"text-destructive"},ce={class:"grid w-full max-w-sm items-center gap-1.5"},ue={key:0,class:"text-destructive"},me={class:"grid w-full max-w-sm items-center gap-1.5"},pe={class:"flex items-center space-x-2"},_e={key:0,class:"text-destructive"},fe={class:"flex gap-2"},Me=B({layout:se,__name:"Index",props:{machines:{},options:{}},setup(b){const w=b,{formatDateTime:h}=O(),{tenant:r}=Z(),g=y(()=>route().params),V=U({search:g.value.search,entries:g.value.entries||"10"}),$={placeholder:"Search name..."},k=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Machines",href:route("machines.index",{tenant:(r==null?void 0:r.id)||""})}],D=t=>P.visit(route("machines.index",{...G(t),tenant:(r==null?void 0:r.id)||""})),K={id:!1,description:!1},N=[{accessorKey:"actions",header:()=>a("div",null,"Actions"),cell:({row:t})=>{const s=t.original;return a("div",{class:"flex items-center gap-2"},[a(x,{href:route("machines.edit",{tenant:(r==null?void 0:r.id)||"",machine:s.id}),asChild:!0},()=>a(f,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>a(W,{class:"size-3"}))),a(I,{title:`Delete ${s.name}`},{trigger:()=>a(f,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>a(J,{class:"size-3"})),default:()=>a(x,{href:route("machines.destroy",{tenant:(r==null?void 0:r.id)||"",machine:s.id}),asChild:!0,method:"delete"},()=>a(f,{variant:"destructive",class:"cursor-pointer"},()=>"Delete"))})])}},{accessorKey:"id",header:()=>a("div",null,"Id"),cell:({row:t})=>a("div",null,t.getValue("id"))},{accessorKey:"name",header:()=>a("div",null,"Name"),cell:({row:t})=>a("div",null,t.getValue("name"))},{accessorKey:"code",header:()=>a("div",null,"Code"),cell:({row:t})=>a("div",null,t.getValue("code"))},{accessorKey:"description",header:()=>a("div",null,"Description"),cell:({row:t})=>a("div",null,t.getValue("description"))},{accessorKey:"is_active",header:()=>a("div",null,"Active"),cell:({row:t})=>{const{is_active:s,is_active_display:d}=t.original;return a(Q,{variant:s?"default":"destructive"},()=>d)}},{accessorKey:"created_at",header:()=>a("div",null,"Created At"),cell:({row:t})=>a("div",null,h(t.original.created_at)||"")},{accessorKey:"updated_at",header:()=>a("div",null,"Updated At"),cell:({row:t})=>a("div",null,h(t.original.updated_at)||"")}],S=y(()=>{var t;return(t=w.options.statuses.find(s=>i.is_active?s.value:!s.value))==null?void 0:t.name}),i=z({name:"",code:"",description:"",is_active:!0}),T=()=>i.post(route("machines.store",{tenant:(r==null?void 0:r.id)||""}));return A(()=>i.name,t=>{i.code=R(t)}),(t,s)=>(u(),m(j,null,[o(e(E),{title:"Machines"}),o(ee,{breadcrumbs:k},{default:n(()=>[l("div",ae,[l("div",ie,[l("div",re,[o(e(L),{title:"Create Machine"},{trigger:n(()=>[o(e(f),{class:"cursor-pointer"},{default:n(()=>s[4]||(s[4]=[c("Create")])),_:1,__:[4]})]),default:n(()=>[l("form",{onSubmit:F(T,["prevent"]),class:"space-y-4"},[l("div",oe,[o(e(v),null,{default:n(()=>s[5]||(s[5]=[c("Name")])),_:1,__:[5]}),o(e(C),{type:"text",placeholder:"Enter Name","model-value":e(i).name,"onUpdate:modelValue":s[0]||(s[0]=d=>e(i).name=d)},null,8,["model-value"]),e(i).errors.name?(u(),m("p",le,_(e(i).errors.name),1)):p("",!0)]),l("div",ne,[o(e(v),null,{default:n(()=>s[6]||(s[6]=[c("Code")])),_:1,__:[6]}),o(e(C),{type:"text",placeholder:"Enter Code","model-value":e(i).code,"onUpdate:modelValue":s[1]||(s[1]=d=>e(i).code=d)},null,8,["model-value"]),e(i).errors.code?(u(),m("p",de,_(e(i).errors.code),1)):p("",!0)]),l("div",ce,[o(e(v),null,{default:n(()=>s[7]||(s[7]=[c("Description")])),_:1,__:[7]}),o(e(X),{placeholder:"Enter Description","model-value":e(i).description,"onUpdate:modelValue":s[2]||(s[2]=d=>e(i).description=d)},null,8,["model-value"]),e(i).errors.description?(u(),m("p",ue,_(e(i).errors.description),1)):p("",!0)]),l("div",me,[o(e(v),{class:"mb-1"},{default:n(()=>s[8]||(s[8]=[c("Status")])),_:1,__:[8]}),l("div",pe,[o(e(Y),{class:"cursor-pointer","model-value":e(i).is_active,"onUpdate:modelValue":s[3]||(s[3]=d=>e(i).is_active=d)},null,8,["model-value"]),o(e(v),null,{default:n(()=>[c(_(S.value),1)]),_:1})]),e(i).errors.is_active?(u(),m("p",_e,_(e(i).errors.is_active),1)):p("",!0)]),l("div",fe,[o(e(f),{type:"submit",class:"cursor-pointer",disabled:e(i).processing},{default:n(()=>[e(i).processing?(u(),M(e(te),{key:0,class:"animate-spin"})):p("",!0),s[9]||(s[9]=c(" Create "))]),_:1,__:[9]},8,["disabled"])])],32)]),_:1})]),l("div",null,[o(e(q),{columns:N,"paginate-data":t.machines,"column-visibility":K,filter:V,"entry-options":e(H),"search-config":$,onFilterChange:D},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Me as default};
