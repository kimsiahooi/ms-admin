import{d as E,c as C,j as b,x as I,a as p,o as u,e as a,u as t,g as M,w as n,b as d,f as B,i as m,h as c,t as _,q as O,W as z,k as l,F,S as V}from"./app-DLF9ENt6.js";import{_ as Q,a as T,P as j,b as A}from"./Tooltip.vue_vue_type_script_setup_true_lang-Cxu7Ka6T.js";import{_ as h}from"./Select.vue_vue_type_script_setup_true_lang-G2Ij4qMo.js";import{_ as L,e as W}from"./options-CDr-3_VA.js";import{_ as f}from"./index-Dgon1quf.js";import{p as H,T as G,_ as J}from"./pickBy-CWkWFL6Y.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-B65uer2a.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-B8-UAsF-.js";import{_ as R,L as X}from"./Switch.vue_vue_type_script_setup_true_lang-bRKm5iUr.js";import{_ as Y}from"./Textarea.vue_vue_type_script_setup_true_lang-DW5HuoEi.js";import{u as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-6_eINdig.js";import{_ as te}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-Cjp6B7k7.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-xLjRZqAa.js";import"./RovingFocusGroup-CGRD81UO.js";import"./useForwardExpose-BB69YxuR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Bff7cFfc.js";import"./check-iUSvw4j_.js";import"./useFormControl-D2i4wKpN.js";import"./VisuallyHiddenInput-DQgduykt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhaSU889.js";import"./index-D8_8r1Of.js";const se={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ie={class:"space-y-3"},le={class:"flex flex-wrap items-center justify-end gap-2"},re={class:"grid w-full max-w-sm items-center gap-1.5"},ae={key:0,class:"text-destructive"},oe={class:"grid w-full max-w-sm items-center gap-1.5"},de={key:0,class:"text-destructive"},ne={class:"grid w-full max-w-sm items-center gap-1.5"},ce={key:0,class:"text-destructive"},ue={class:"grid w-full max-w-sm items-center gap-1.5"},pe={key:0,class:"text-destructive"},me={class:"grid w-full max-w-sm items-center gap-1.5"},_e={key:0,class:"text-destructive"},ye={class:"grid w-full max-w-sm items-center gap-1.5"},ve={key:0,class:"text-destructive"},fe={class:"grid w-full max-w-sm items-center gap-1.5"},ge={key:0,class:"text-destructive"},he={class:"grid w-full max-w-sm items-center gap-1.5"},xe={class:"flex items-center space-x-2"},we={key:0,class:"text-destructive"},Ce={class:"flex gap-2"},Ae=E({layout:te,__name:"Index",props:{product:{},presets:{},options:{}},setup(k){const v=k,{tenant:r}=Z(),w=C(()=>route().params),$=b({search:w.value.search,entries:w.value.entries||"10"}),g=b({create:{dialogIsOpen:!1}}),K={placeholder:"Search name..."},S=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Products",href:route("products.index",{tenant:(r==null?void 0:r.id)||""})},{title:v.product.name,href:"#"},{title:"Presets",href:route("products.presets.index",{tenant:(r==null?void 0:r.id)||"",product:v.product.id})}],U=i=>z.visit(route("products.presets.index",{...H(i),tenant:(r==null?void 0:r.id)||"",product:v.product.id})),q={id:!1,description:!1},D=[{accessorKey:"actions",header:()=>l("div",null,"Actions"),cell:({row:i})=>{const e=i.original;return l("div",{class:"flex items-center gap-2"},[l(T,{text:"Edit"},()=>l(V,{href:route("products.presets.edit",{tenant:(r==null?void 0:r.id)||"",product:v.product.id,preset:e.id}),asChild:!0},()=>l(f,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>l(j,{class:"size-3"})))),l(A,{title:`Delete ${e.name}`,route:route("products.presets.destroy",{tenant:(r==null?void 0:r.id)||"",product:v.product.id,preset:e.id}),asChild:!1},()=>l(T,{text:"Delete"},()=>l(f,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>l(G,{class:"size-3"}))))])}},{accessorKey:"is_active",header:()=>l("div",null,"Active"),cell:({row:i})=>{const{is_active:e,is_active_display:o}=i.original;return l(J,{variant:e?"default":"destructive"},()=>o)}},{accessorKey:"id",header:()=>l("div",null,"Id"),cell:({row:i})=>l("div",null,i.getValue("id"))},{accessorKey:"machine",header:()=>l("div",null,"Machine"),cell:({row:i})=>{const{machine:e}=i.original;return e?l(V,{href:route("machines.index",{tenant:(r==null?void 0:r.id)||"",search:(e==null?void 0:e.id)||""})},()=>l(f,{class:"cursor-pointer",variant:"link"},()=>e==null?void 0:e.name)):null}},{accessorKey:"name",header:()=>l("div",null,"Name"),cell:({row:i})=>l("div",null,i.getValue("name"))},{accessorKey:"description",header:()=>l("div",null,"Description"),cell:({row:i})=>l("div",null,i.getValue("description"))},{accessorKey:"cavity_quantity",header:()=>l("div",null,"Cavity Quantity"),cell:({row:i})=>l("div",null,i.getValue("cavity_quantity"))},{accessorKey:"cavity_type",header:()=>l("div",null,"Cavity Type"),cell:({row:i})=>{const{cavity_type_display:e}=i.original;return l("div",null,e||"")}},{accessorKey:"cycle_time",header:()=>l("div",null,"Cycle Time"),cell:({row:i})=>l("div",null,i.getValue("cycle_time"))},{accessorKey:"cycle_time_type",header:()=>l("div",null,"Cycle Time Type"),cell:({row:i})=>{const{cycle_time_type_display:e}=i.original;return l("div",null,e||"")}}],P=C(()=>{var i;return(i=v.options.statuses.find(e=>s.is_active?e.value:!e.value))==null?void 0:i.name}),s=I({machine_id:"",name:"",description:"",cavity_quantity:"",cavity_type:"",cycle_time:"",cycle_time_type:"",is_active:!0}),N=()=>s.post(route("products.presets.store",{tenant:(r==null?void 0:r.id)||"",product:v.product.id}),{onSuccess:()=>{s.reset(),g.create.dialogIsOpen=!1}});return(i,e)=>(u(),p(F,null,[a(t(M),{title:"Product Presets"}),a(ee,{breadcrumbs:S},{default:n(()=>[d("div",se,[d("div",ie,[d("div",le,[a(t(Q),{title:"Create Preset",open:g.create.dialogIsOpen,"onUpdate:open":e[8]||(e[8]=o=>g.create.dialogIsOpen=o)},{trigger:n(()=>[a(t(f),{class:"cursor-pointer"},{default:n(()=>e[9]||(e[9]=[c("Create")])),_:1,__:[9]})]),default:n(()=>[d("form",{onSubmit:B(N,["prevent"]),class:"space-y-4"},[d("div",re,[a(t(y),null,{default:n(()=>e[10]||(e[10]=[c("Name")])),_:1,__:[10]}),a(t(x),{type:"text",placeholder:"Enter Name","model-value":t(s).name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(s).name=o)},null,8,["model-value"]),t(s).errors.name?(u(),p("p",ae,_(t(s).errors.name),1)):m("",!0)]),d("div",oe,[a(t(y),null,{default:n(()=>e[11]||(e[11]=[c("Description")])),_:1,__:[11]}),a(t(Y),{placeholder:"Enter Description","model-value":t(s).description,"onUpdate:modelValue":e[1]||(e[1]=o=>t(s).description=o)},null,8,["model-value"]),t(s).errors.description?(u(),p("p",de,_(t(s).errors.description),1)):m("",!0)]),d("div",ne,[a(t(y),null,{default:n(()=>e[12]||(e[12]=[c("Machine")])),_:1,__:[12]}),a(t(h),{options:i.options.machines,placeholder:"Select Machine","model-value":t(s).machine_id,"onUpdate:modelValue":e[2]||(e[2]=o=>t(s).machine_id=o),"trigger-class":"w-full"},null,8,["options","model-value"]),t(s).errors.machine_id?(u(),p("p",ce,_(t(s).errors.machine_id),1)):m("",!0)]),d("div",ue,[a(t(y),null,{default:n(()=>e[13]||(e[13]=[c("Cavity Quantity")])),_:1,__:[13]}),a(t(x),{type:"number",placeholder:"Enter Cavity Quantity","model-value":t(s).cavity_quantity,"onUpdate:modelValue":e[3]||(e[3]=o=>t(s).cavity_quantity=o),"model-valueModifiers":{number:!0},min:"0",step:".01"},null,8,["model-value"]),t(s).errors.cavity_quantity?(u(),p("p",pe,_(t(s).errors.cavity_quantity),1)):m("",!0)]),d("div",me,[a(t(y),null,{default:n(()=>e[14]||(e[14]=[c("Cavity Type")])),_:1,__:[14]}),a(t(h),{options:i.options.cavity_types,placeholder:"Select Cavity Type","model-value":t(s).cavity_type,"onUpdate:modelValue":e[4]||(e[4]=o=>t(s).cavity_type=o),"trigger-class":"w-full"},null,8,["options","model-value"]),t(s).errors.cavity_type?(u(),p("p",_e,_(t(s).errors.cavity_type),1)):m("",!0)]),d("div",ye,[a(t(y),null,{default:n(()=>e[15]||(e[15]=[c("Cycle Time")])),_:1,__:[15]}),a(t(x),{type:"number",placeholder:"Enter Cycle Time","model-value":t(s).cycle_time,"onUpdate:modelValue":e[5]||(e[5]=o=>t(s).cycle_time=o),"model-valueModifiers":{number:!0},min:"0",step:".01"},null,8,["model-value"]),t(s).errors.cycle_time?(u(),p("p",ve,_(t(s).errors.cycle_time),1)):m("",!0)]),d("div",fe,[a(t(y),null,{default:n(()=>e[16]||(e[16]=[c("Cycle Time Type")])),_:1,__:[16]}),a(t(h),{options:i.options.cycle_time_types,placeholder:"Select Cycle Time Type","model-value":t(s).cycle_time_type,"onUpdate:modelValue":e[6]||(e[6]=o=>t(s).cycle_time_type=o),"trigger-class":"w-full"},null,8,["options","model-value"]),t(s).errors.cycle_time_type?(u(),p("p",ge,_(t(s).errors.cycle_time_type),1)):m("",!0)]),d("div",he,[a(t(y),{class:"mb-1"},{default:n(()=>e[17]||(e[17]=[c("Status")])),_:1,__:[17]}),d("div",xe,[a(t(R),{class:"cursor-pointer","model-value":t(s).is_active,"onUpdate:modelValue":e[7]||(e[7]=o=>t(s).is_active=o)},null,8,["model-value"]),a(t(y),null,{default:n(()=>[c(_(P.value),1)]),_:1})]),t(s).errors.is_active?(u(),p("p",we,_(t(s).errors.is_active),1)):m("",!0)]),d("div",Ce,[a(t(f),{type:"submit",class:"cursor-pointer",disabled:t(s).processing},{default:n(()=>[t(s).processing?(u(),O(t(X),{key:0,class:"animate-spin"})):m("",!0),e[18]||(e[18]=c(" Create "))]),_:1,__:[18]},8,["disabled"])])],32)]),_:1},8,["open"])]),d("div",null,[a(t(L),{columns:D,"paginate-data":i.presets,"column-visibility":q,filter:$,"entry-options":t(W),"search-config":K,onFilterChange:U},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Ae as default};
