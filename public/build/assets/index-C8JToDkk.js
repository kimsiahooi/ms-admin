import{_ as M}from"./index-gvFlOA9A.js";import{_ as p}from"./FormCombobox.vue_vue_type_script_setup_true_lang-C_d6RY7a.js";import"./FormError.vue_vue_type_script_setup_true_lang-BVg2IwEG.js";import{u as O,M as $}from"./useUuid-rYsxxeMQ.js";import{d as S,b2 as I,bE as U,A as w,c as m,j as r,a as V,o as k,b as s,e as d,u as i,w as y,i as B}from"./app-BgTXa90_.js";const g={class:"flex flex-col gap-2 md:flex-row"},h={class:"flex-1"},j={class:"flex-1"},z={class:"flex-1"},D={key:0},J=S({__name:"OperationSelect",props:I({plants:{},totalSelected:{},currIndex:{}},{modelValue:{},modelModifiers:{}}),emits:I(["remove"],["update:modelValue"]),setup(n,{emit:C}){var v,_,c,f;const u=n,l=U(n,"modelValue"),{uuid:x}=O(),b=C,a=w({key:((v=l.value)==null?void 0:v.key)??x(),plant_id:(_=l.value)==null?void 0:_.plant_id,department_id:(c=l.value)==null?void 0:c.department_id,operation_id:(f=l.value)==null?void 0:f.operation_id}),A=m(()=>u.plants.map(e=>({name:e.name,value:e.id}))),E=m(()=>{var e;return((e=u.plants.find(t=>t.id===a.value.plant_id))==null?void 0:e.departments.map(t=>({name:t.name,value:t.id})))??[]}),N=m(()=>{var e,t;return((t=(e=u.plants.find(o=>o.id===a.value.plant_id))==null?void 0:e.departments.find(o=>o.id===a.value.department_id))==null?void 0:t.operations.map(o=>({name:o.name,value:o.id})))??[]}),T=()=>{b("remove",a.value.key)};return r(()=>a.value.plant_id,()=>{a.value.department_id=void 0}),r(()=>a.value.department_id,()=>{a.value.operation_id=void 0}),r(l,e=>{e&&(a.value=e)},{deep:!0}),r(a,e=>{l.value&&(l.value=e)},{deep:!0}),(e,t)=>(k(),V("div",null,[s("div",g,[s("div",h,[d(i(p),{label:"Plant",options:A.value,"model-value":a.value.plant_id,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.plant_id=o),"error-key":`operations.${e.currIndex}.plant_id`},null,8,["options","model-value","error-key"])]),s("div",j,[d(i(p),{label:"Department",options:E.value,"model-value":a.value.department_id,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.department_id=o),"error-key":`operations.${e.currIndex}.department_id`},null,8,["options","model-value","error-key"])]),s("div",z,[d(i(p),{label:"Operation",options:N.value,"model-value":a.value.operation_id,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.operation_id=o),"error-key":`operations.${e.currIndex}.operation_id`},{default:y(()=>[e.totalSelected>1?(k(),V("div",D,[d(i(M),{type:"button",class:"cursor-pointer",size:"icon",variant:"destructive",onClick:T},{default:y(()=>[d(i($))]),_:1})])):B("",!0)]),_:1},8,["options","model-value","error-key"])])])]))}});var L=(n=>(n.ACTIVE="ACTIVE",n.INACTIVE="INACTIVE",n))(L||{});const K={ACTIVE:"Active",INACTIVE:"Inactive"};export{K as S,J as _,L as a};
