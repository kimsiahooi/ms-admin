import{d as N,c as h,j as B,x as z,m as A,a as m,o as u,e as l,u as e,g as E,w as d,b as o,f as F,i as p,h as c,t as _,q as M,k as i,F as P,W as j,S as x}from"./app-Ca6B20Vz.js";import{_ as I}from"./DeleteDialog.vue_vue_type_script_setup_true_lang-_BOK7qXp.js";import{_ as L,P as W}from"./Dialog.vue_vue_type_script_setup_true_lang-DIvpwqmc.js";import{a as q,_ as H,e as O,u as G}from"./options-D-fzGrun.js";import{_ as v}from"./index-CJCEQRlH.js";import{p as J,T as Q,_ as R}from"./pickBy-d3_6Ny80.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-DEDyQ7b3.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-CGwBPp-x.js";import{s as X,_ as Y,a as Z}from"./slug-DF2Gj0ID.js";import{u as ee,_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-CUcfEIAE.js";import{_ as se}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-DyzzONnw.js";import{L as ae}from"./loader-B7WVB_hw.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-S-gHoVxI.js";import"./RovingFocusGroup-CMGXFI4i.js";import"./useForwardExpose-F3Z0XM54.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BBT9hPXf.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BJqLwjKR.js";import"./check-DulPtJwb.js";import"./useFormControl-BZYuW8wt.js";import"./VisuallyHiddenInput-yYGSp1Aq.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CmFoY379.js";import"./index-DZckqy0Q.js";const ie={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},re={class:"space-y-3"},le={class:"flex flex-wrap items-center justify-end gap-2"},oe={class:"grid w-full max-w-sm items-center gap-1.5"},ne={key:0,class:"text-destructive"},de={class:"grid w-full max-w-sm items-center gap-1.5"},ce={key:0,class:"text-destructive"},ue={class:"grid w-full max-w-sm items-center gap-1.5"},me={key:0,class:"text-destructive"},pe={class:"grid w-full max-w-sm items-center gap-1.5"},_e={key:0,class:"text-destructive"},fe={class:"grid w-full max-w-sm items-center gap-1.5"},ve={class:"flex items-center space-x-2"},ye={key:0,class:"text-destructive"},ge={class:"flex gap-2"},Ie=N({layout:se,__name:"Index",props:{materials:{},options:{}},setup(C){const V=C,{formatDateTime:y}=G(),{tenant:r}=ee(),g=h(()=>route().params),b=B({search:g.value.search,entries:g.value.entries||"10"}),$={placeholder:"Search name..."},k=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Materials",href:route("materials.index",{tenant:(r==null?void 0:r.id)||""})}],S=s=>{j.visit(route("materials.index",{...J(s),tenant:(r==null?void 0:r.id)||""}))},D={id:!1,description:!1},K=[{accessorKey:"actions",header:()=>i("div",null,"Actions"),cell:({row:s})=>{const t=s.original;return i("div",{class:"flex items-center gap-2"},[i(x,{href:route("materials.edit",{tenant:(r==null?void 0:r.id)||"",material:t.id}),asChild:!0},()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>i(W,{class:"size-3"}))),i(I,{title:`Delete ${t.name}`},{trigger:i(v,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>i(Q,{class:"size-3"})),deleteButton:i(x,{href:route("materials.destroy",{tenant:(r==null?void 0:r.id)||"",material:t.id}),asChild:!0,method:"delete",preserveState:!1,preserveScroll:!1},()=>i(v,{variant:"destructive",class:"cursor-pointer"},"Delete"))})])}},{accessorKey:"id",header:()=>i("div",null,"Id"),cell:({row:s})=>i("div",null,s.getValue("id"))},{accessorKey:"name",header:()=>i("div",null,"Name"),cell:({row:s})=>i("div",null,s.getValue("name"))},{accessorKey:"code",header:()=>i("div",null,"Code"),cell:({row:s})=>i("div",null,s.getValue("code"))},{accessorKey:"description",header:()=>i("div",null,"Description"),cell:({row:s})=>i("div",null,s.getValue("description"))},{accessorKey:"unit_type",header:()=>i("div",null,"Unit Type"),cell:({row:s})=>{const{unit_type_display:t}=s.original;return i("div",null,t||"")}},{accessorKey:"is_active",header:()=>i("div",null,"Active"),cell:({row:s})=>{const{is_active:t,is_active_display:n}=s.original;return i(R,{variant:t?"default":"destructive"},()=>n)}},{accessorKey:"created_at",header:()=>i("div",null,"Created At"),cell:({row:s})=>i("div",null,y(s.original.created_at)||"")},{accessorKey:"updated_at",header:()=>i("div",null,"Updated At"),cell:({row:s})=>i("div",null,y(s.original.updated_at)||"")}],T=h(()=>{var s;return(s=V.options.statuses.find(t=>a.is_active?t.value:!t.value))==null?void 0:s.name}),a=z({name:"",code:"",description:"",unit_type:"",is_active:!0}),U=()=>a.post(route("materials.store",{tenant:(r==null?void 0:r.id)||""}),{preserveState:!1,preserveScroll:!1});return A(()=>a.name,s=>{a.code=X(s)}),(s,t)=>(u(),m(P,null,[l(e(E),{title:"Materials"}),l(te,{breadcrumbs:k},{default:d(()=>[o("div",ie,[o("div",re,[o("div",le,[l(e(L),{title:"Create Machine"},{trigger:d(()=>[l(e(v),{class:"cursor-pointer"},{default:d(()=>t[5]||(t[5]=[c("Create")])),_:1,__:[5]})]),default:d(()=>[o("form",{onSubmit:F(U,["prevent"]),class:"space-y-4"},[o("div",oe,[l(e(f),null,{default:d(()=>t[6]||(t[6]=[c("Name")])),_:1,__:[6]}),l(e(w),{type:"text",placeholder:"Enter Name","model-value":e(a).name,"onUpdate:modelValue":t[0]||(t[0]=n=>e(a).name=n)},null,8,["model-value"]),e(a).errors.name?(u(),m("p",ne,_(e(a).errors.name),1)):p("",!0)]),o("div",de,[l(e(f),null,{default:d(()=>t[7]||(t[7]=[c("Code")])),_:1,__:[7]}),l(e(w),{type:"text",placeholder:"Enter Code","model-value":e(a).code,"onUpdate:modelValue":t[1]||(t[1]=n=>e(a).code=n)},null,8,["model-value"]),e(a).errors.code?(u(),m("p",ce,_(e(a).errors.code),1)):p("",!0)]),o("div",ue,[l(e(f),null,{default:d(()=>t[8]||(t[8]=[c("Description")])),_:1,__:[8]}),l(e(Y),{placeholder:"Enter Description","model-value":e(a).description,"onUpdate:modelValue":t[2]||(t[2]=n=>e(a).description=n)},null,8,["model-value"]),e(a).errors.description?(u(),m("p",me,_(e(a).errors.description),1)):p("",!0)]),o("div",pe,[l(e(f),null,{default:d(()=>t[9]||(t[9]=[c("Unit Type")])),_:1,__:[9]}),l(e(q),{options:s.options.unit_types,placeholder:"Select Unit Type","model-value":e(a).unit_type,"onUpdate:modelValue":t[3]||(t[3]=n=>e(a).unit_type=n),"trigger-class":"w-full"},null,8,["options","model-value"]),e(a).errors.unit_type?(u(),m("p",_e,_(e(a).errors.unit_type),1)):p("",!0)]),o("div",fe,[l(e(f),{class:"mb-1"},{default:d(()=>t[10]||(t[10]=[c("Status")])),_:1,__:[10]}),o("div",ve,[l(e(Z),{class:"cursor-pointer","model-value":e(a).is_active,"onUpdate:modelValue":t[4]||(t[4]=n=>e(a).is_active=n)},null,8,["model-value"]),l(e(f),null,{default:d(()=>[c(_(T.value),1)]),_:1})]),e(a).errors.is_active?(u(),m("p",ye,_(e(a).errors.is_active),1)):p("",!0)]),o("div",ge,[l(e(v),{type:"submit",class:"cursor-pointer",disabled:e(a).processing},{default:d(()=>[e(a).processing?(u(),M(e(ae),{key:0,class:"animate-spin"})):p("",!0),t[11]||(t[11]=c(" Create "))]),_:1,__:[11]},8,["disabled"])])],32)]),_:1})]),o("div",null,[l(e(H),{columns:K,"paginate-data":s.materials,"column-visibility":D,filter:b,"entry-options":e(O),"search-config":$,onFilterChange:S},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Ie as default};
