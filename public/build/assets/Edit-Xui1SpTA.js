import{d as h,c as d,x as v,a as g,o as S,e as a,u as r,g as $,w as u,b as U,f as w,F as E}from"./app-Dszfpg6u.js";import{_ as V}from"./Card.vue_vue_type_script_setup_true_lang-DD4vTubh.js";import{L as x}from"./index-BrGjdb_N.js";import{_ as y}from"./FormError.vue_vue_type_script_setup_true_lang-DL5aFTRi.js";import{_ as B}from"./FormCombobox.vue_vue_type_script_setup_true_lang-CrIEVA6F.js";import{_ as C}from"./FormSwitch.vue_vue_type_script_setup_true_lang-HS4WNoW2.js";import{u as L,_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BMimYTIp.js";import{_ as k}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-qDR132SV.js";import{S as D,a as F}from"./index-tNKZbeW-.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-CwfqeutE.js";import"./index-BbGspQvW.js";import"./RovingFocusGroup-D1ZYLUdK.js";import"./useForwardExpose-DRagDHMx.js";import"./check-BuMyELJR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DekdmUrL.js";import"./useFormControl-yFNuqe_h.js";import"./VisuallyHiddenInput-DMCjVeBM.js";import"./chevron-down-BBbWBNr4.js";import"./Label.vue_vue_type_script_setup_true_lang-D01-rqib.js";import"./Switch.vue_vue_type_script_setup_true_lang-C-Q010BA.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DjctXJVV.js";const re=h({layout:k,__name:"Edit",props:{plant:{},operation:{},user:{},options:{}},setup(f){var p;const t=f,{tenant:e}=L(),c=d(()=>{var o;return[{title:"Dashboard",href:route("dashboard",{tenant:(e==null?void 0:e.id)||""})},{title:"Plants",href:route("plants.index",{tenant:(e==null?void 0:e.id)||""})},{title:t.plant.name,href:"#"},{title:"Operations",href:route("plants.operations.index",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id})},{title:t.operation.name,href:"#"},{title:"Users",href:route("plants.operations.users.index",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id,operation:t.operation.id})},{title:((o=t.user.user)==null?void 0:o.name)??"",href:"#"},{title:"Edit",href:route("plants.operations.users.edit",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id,operation:t.operation.id,user:t.user.id})}]}),_=d(()=>{var o;return((o=t.options.switch.statuses.find(i=>i.value===s.status))==null?void 0:o.name)??D[F.INACTIVE]}),s=v({user:(p=t.user.user)==null?void 0:p.id,status:t.user.status.switch??void 0}),b=()=>s.put(route("plants.operations.users.update",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id,operation:t.operation.id,user:t.user.id}),{preserveScroll:!0,preserveState:!0});return(o,i)=>{var n;return S(),g(E,null,[a(r($),{title:(n=o.user.user)==null?void 0:n.name},null,8,["title"]),a(N,{breadcrumbs:c.value},{default:u(()=>[a(r(x),null,{default:u(()=>{var m;return[U("form",{onSubmit:w(b,["prevent"])},[a(r(V),{title:`Edit ${(m=o.user.user)==null?void 0:m.name}`},{default:u(()=>[a(r(B),{options:o.options.select.users,placeholder:"Select User",label:"User","model-value":r(s).user,"onUpdate:modelValue":i[0]||(i[0]=l=>r(s).user=l),error:r(s).errors.user},null,8,["options","model-value","error"]),a(r(C),{label:_.value,error:r(s).errors.status,"model-value":r(s).status,"onUpdate:modelValue":i[1]||(i[1]=l=>r(s).status=l)},null,8,["label","error","model-value"]),a(r(y),{type:"submit",disabled:r(s).processing,label:"Update",loading:r(s).processing},null,8,["disabled","loading"])]),_:1},8,["title"])],32)]}),_:1})]),_:1},8,["breadcrumbs"])],64)}}});export{re as default};
