import{d as T,c as S,j as w,x as U,m as E,a as p,o as u,e as o,u as e,g as B,w as n,b as d,f as M,i as f,h as c,t as m,q as O,k as t,F as q,W as F,S as g}from"./app-DLF9ENt6.js";import{_ as H,a as h,P as j,b as A}from"./Tooltip.vue_vue_type_script_setup_true_lang-Cxu7Ka6T.js";import{_ as W}from"./Select.vue_vue_type_script_setup_true_lang-G2Ij4qMo.js";import{_ as G,e as J}from"./options-CDr-3_VA.js";import{a as C,_ as v}from"./index-Dgon1quf.js";import{p as Q,T as R,_ as X}from"./pickBy-CWkWFL6Y.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-B65uer2a.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-B8-UAsF-.js";import{_ as Y,L as Z}from"./Switch.vue_vue_type_script_setup_true_lang-bRKm5iUr.js";import{_ as ee}from"./Textarea.vue_vue_type_script_setup_true_lang-DW5HuoEi.js";import{u as se,_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-6_eINdig.js";import{_ as ie}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-Cjp6B7k7.js";import{s as le}from"./slug-xwoAxeGq.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-xLjRZqAa.js";import"./RovingFocusGroup-CGRD81UO.js";import"./useForwardExpose-BB69YxuR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Bff7cFfc.js";import"./check-iUSvw4j_.js";import"./useFormControl-D2i4wKpN.js";import"./VisuallyHiddenInput-DQgduykt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhaSU889.js";import"./index-D8_8r1Of.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=C("CircleDollarSignIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=C("Settings2Icon",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ae={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},de={class:"space-y-3"},ne={class:"flex flex-wrap items-center justify-end gap-2"},ce={class:"grid w-full max-w-sm items-center gap-1.5"},ue={key:0,class:"text-destructive"},pe={class:"grid w-full max-w-sm items-center gap-1.5"},fe={key:0,class:"text-destructive"},me={class:"grid w-full max-w-sm items-center gap-1.5"},_e={key:0,class:"text-destructive"},ve={class:"grid w-full max-w-sm items-center gap-1.5"},he={class:"grid gap-1.5 md:grid-cols-2"},ye={class:"grid gap-1.5"},ge={class:"grid gap-1.5"},xe={key:0,class:"text-destructive"},ke={key:1,class:"text-destructive"},Se={class:"grid w-full max-w-sm items-center gap-1.5"},we={class:"flex items-center space-x-2"},Ce={key:0,class:"text-destructive"},be={class:"flex gap-2"},Je=T({layout:ie,__name:"Index",props:{products:{},options:{}},setup(b){const V=b,{tenant:r}=se(),k=S(()=>route().params),$=w({search:k.value.search,entries:k.value.entries||"10"}),y=w({create:{dialogIsOpen:!1}}),D={placeholder:"Search name..."},z=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Products",href:route("products.index",{tenant:(r==null?void 0:r.id)||""})}],I=l=>{F.visit(route("products.index",{...Q(l),tenant:(r==null?void 0:r.id)||""}))},L={id:!1,description:!1},K=[{accessorKey:"actions",header:()=>t("div",null,"Actions"),cell:({row:l})=>{const s=l.original;return t("div",{class:"flex items-center gap-2"},[t(h,{text:"Presets"},()=>t(g,{href:route("products.presets.index",{tenant:(r==null?void 0:r.id)||"",product:s.id})},()=>t(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(oe,{class:"size-3"})))),t(h,{text:"Prices"},()=>t(g,{href:route("products.prices.index",{tenant:(r==null?void 0:r.id)||"",product:s.id}),asChild:!0},()=>t(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(re,{class:"size-3"})))),t(h,{text:"Edit"},()=>t(g,{href:route("products.edit",{tenant:(r==null?void 0:r.id)||"",product:s.id}),asChild:!0},()=>t(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(j,{class:"size-3"})))),t(A,{title:`Delete ${s.name}`,route:route("products.destroy",{tenant:(r==null?void 0:r.id)||"",product:s.id}),asChild:!1},()=>t(h,{text:"Delete"},()=>t(v,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>t(R,{class:"size-3"}))))])}},{accessorKey:"is_active",header:()=>t("div",null,"Active"),cell:({row:l})=>{const{is_active:s,is_active_display:a}=l.original;return t(X,{variant:s?"default":"destructive"},()=>a)}},{accessorKey:"id",header:()=>t("div",null,"Id"),cell:({row:l})=>t("div",null,l.getValue("id"))},{accessorKey:"name",header:()=>t("div",null,"Name"),cell:({row:l})=>t("div",null,l.getValue("name"))},{accessorKey:"code",header:()=>t("div",null,"Code"),cell:({row:l})=>t("div",null,l.getValue("code"))},{accessorKey:"description",header:()=>t("div",null,"Description"),cell:({row:l})=>t("div",null,l.getValue("description"))},{accessorKey:"shelf_life_duration",header:()=>t("div",null,"Shelf Life Duration"),cell:({row:l})=>t("div",null,l.original.shelf_life_duration||"")},{accessorKey:"shelf_life_type",header:()=>t("div",null,"Shelf Life Type"),cell:({row:l})=>t("div",null,l.original.shelf_life_type_display||"")}],P=S(()=>{var l;return(l=V.options.statuses.find(s=>i.is_active?s.value:!s.value))==null?void 0:l.name}),i=U({name:"",code:"",description:"",shelf_life_duration:"",shelf_life_type:"",is_active:!0}),N=()=>i.post(route("products.store",{tenant:(r==null?void 0:r.id)||""}),{onSuccess:()=>{i.reset(),y.create.dialogIsOpen=!1}});return E(()=>i.name,l=>{i.code=le(l)}),(l,s)=>(u(),p(q,null,[o(e(B),{title:"Products"}),o(te,{breadcrumbs:z},{default:n(()=>[d("div",ae,[d("div",de,[d("div",ne,[o(e(H),{title:"Create Product",open:y.create.dialogIsOpen,"onUpdate:open":s[6]||(s[6]=a=>y.create.dialogIsOpen=a)},{trigger:n(()=>[o(e(v),{class:"cursor-pointer"},{default:n(()=>s[7]||(s[7]=[c("Create")])),_:1,__:[7]})]),default:n(()=>[d("form",{onSubmit:M(N,["prevent"]),class:"space-y-4"},[d("div",ce,[o(e(_),null,{default:n(()=>s[8]||(s[8]=[c("Name")])),_:1,__:[8]}),o(e(x),{type:"text",placeholder:"Enter Name","model-value":e(i).name,"onUpdate:modelValue":s[0]||(s[0]=a=>e(i).name=a)},null,8,["model-value"]),e(i).errors.name?(u(),p("p",ue,m(e(i).errors.name),1)):f("",!0)]),d("div",pe,[o(e(_),null,{default:n(()=>s[9]||(s[9]=[c("Code")])),_:1,__:[9]}),o(e(x),{type:"text",placeholder:"Enter Code","model-value":e(i).code,"onUpdate:modelValue":s[1]||(s[1]=a=>e(i).code=a)},null,8,["model-value"]),e(i).errors.code?(u(),p("p",fe,m(e(i).errors.code),1)):f("",!0)]),d("div",me,[o(e(_),null,{default:n(()=>s[10]||(s[10]=[c("Description")])),_:1,__:[10]}),o(e(ee),{placeholder:"Enter Description","model-value":e(i).description,"onUpdate:modelValue":s[2]||(s[2]=a=>e(i).description=a)},null,8,["model-value"]),e(i).errors.description?(u(),p("p",_e,m(e(i).errors.description),1)):f("",!0)]),d("div",ve,[d("div",he,[d("div",ye,[o(e(_),null,{default:n(()=>s[11]||(s[11]=[c("Shelf Life Duration")])),_:1,__:[11]}),o(e(x),{type:"number",placeholder:"Enter Shelf Life Duration","model-value":e(i).shelf_life_duration,"onUpdate:modelValue":s[3]||(s[3]=a=>e(i).shelf_life_duration=a),min:"0.01",step:".01",class:"w-full"},null,8,["model-value"])]),d("div",ge,[o(e(_),null,{default:n(()=>s[12]||(s[12]=[c("Shelf Life Type")])),_:1,__:[12]}),o(e(W),{options:l.options.shelf_life_types,placeholder:"Select Shelf Life Type","model-value":e(i).shelf_life_type,"onUpdate:modelValue":s[4]||(s[4]=a=>e(i).shelf_life_type=a),"trigger-class":"w-full"},null,8,["options","model-value"])])]),e(i).errors.shelf_life_duration?(u(),p("p",xe,m(e(i).errors.shelf_life_duration),1)):f("",!0),e(i).errors.shelf_life_type?(u(),p("p",ke,m(e(i).errors.shelf_life_type),1)):f("",!0)]),d("div",Se,[o(e(_),{class:"mb-1"},{default:n(()=>s[13]||(s[13]=[c("Status")])),_:1,__:[13]}),d("div",we,[o(e(Y),{class:"cursor-pointer","model-value":e(i).is_active,"onUpdate:modelValue":s[5]||(s[5]=a=>e(i).is_active=a)},null,8,["model-value"]),o(e(_),null,{default:n(()=>[c(m(P.value),1)]),_:1})]),e(i).errors.is_active?(u(),p("p",Ce,m(e(i).errors.is_active),1)):f("",!0)]),d("div",be,[o(e(v),{type:"submit",class:"cursor-pointer",disabled:e(i).processing},{default:n(()=>[e(i).processing?(u(),O(e(Z),{key:0,class:"animate-spin"})):f("",!0),s[14]||(s[14]=c(" Create "))]),_:1,__:[14]},8,["disabled"])])],32)]),_:1},8,["open"])]),d("div",null,[o(e(G),{columns:K,"paginate-data":l.products,"column-visibility":L,filter:$,"entry-options":e(J),"search-config":D,onFilterChange:I},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Je as default};
