import{d as O,c as w,j as C,x as z,m as $,a as p,o as c,e as r,u as t,g as F,w as n,b as d,f as Q,i as m,h as u,t as _,q as j,W as L,k as i,F as W,S}from"./app-KSbgUuIU.js";import{p as A,_ as K,P as H,a as G,T as J,b as R}from"./pickBy-OLrpSmxv.js";import{_ as X}from"./Dialog.vue_vue_type_script_setup_true_lang-GgexZgWT.js";import{_ as b}from"./Select.vue_vue_type_script_setup_true_lang-BILVJfgr.js";import{_ as Y,e as Z}from"./options-CxoPM4-n.js";import{_ as f}from"./index-CYBbWwLu.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-B4lqTRAY.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-BQ1of87h.js";import{_ as ee,L as te}from"./Switch.vue_vue_type_script_setup_true_lang-m9ul1BKW.js";import{_ as se}from"./Textarea.vue_vue_type_script_setup_true_lang-ybfpBnld.js";import{u as le,_ as ie}from"./AppLayout.vue_vue_type_script_setup_true_lang-AZ2PnkQR.js";import{_ as re}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CmtaUbgQ.js";import{s as oe}from"./slug-xwoAxeGq.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-1WHSHCLR.js";import"./RovingFocusGroup-CJwQLeDY.js";import"./useForwardExpose-BCGP6J9B.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B0BTTmgX.js";import"./check-DTeDlD4X.js";import"./useFormControl-AaFHe1Yj.js";import"./VisuallyHiddenInput-CPNnyZE-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CRRCczxj.js";import"./index-T6uICwUp.js";const ae={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},de={class:"space-y-3"},ne={class:"flex flex-wrap items-center justify-end gap-2"},ue={class:"grid w-full max-w-sm items-center gap-1.5"},ce={key:0,class:"text-destructive"},pe={class:"grid w-full max-w-sm items-center gap-1.5"},me={key:0,class:"text-destructive"},_e={class:"grid w-full max-w-sm items-center gap-1.5"},ye={key:0,class:"text-destructive"},ve={class:"grid w-full max-w-sm items-center gap-1.5"},fe={key:0,class:"text-destructive"},ge={class:"grid w-full max-w-sm items-center gap-1.5"},xe={key:0,class:"text-destructive"},he={class:"grid w-full max-w-sm items-center gap-1.5"},we={key:0,class:"text-destructive"},Ce={class:"grid w-full max-w-sm items-center gap-1.5"},be={key:0,class:"text-destructive"},Ve={class:"grid w-full max-w-sm items-center gap-1.5"},ke={key:0,class:"text-destructive"},Te={class:"grid w-full max-w-sm items-center gap-1.5"},$e={class:"flex items-center space-x-2"},Se={key:0,class:"text-destructive"},Ke={class:"flex gap-2"},Ye=O({layout:re,__name:"Index",props:{product:{},presets:{},options:{}},setup(U){const v=U,{tenant:o}=le(),V=w(()=>route().params),q=C({search:V.value.search,entries:V.value.entries||"10"}),x=C({create:{dialogIsOpen:!1}}),D={placeholder:"Search name..."},P=[{title:"Dashboard",href:route("dashboard",{tenant:(o==null?void 0:o.id)||""})},{title:"Products",href:route("products.index",{tenant:(o==null?void 0:o.id)||""})},{title:v.product.name,href:"#"},{title:"Presets",href:route("products.presets.index",{tenant:(o==null?void 0:o.id)||"",product:v.product.id})}],E=l=>L.visit(route("products.presets.index",{...A(l),tenant:(o==null?void 0:o.id)||"",product:v.product.id})),N={id:!1,description:!1},I=[{accessorKey:"actions",header:()=>i("div",null,"Actions"),cell:({row:l})=>{const e=l.original;return i("div",{class:"flex items-center gap-2"},[i(K,{text:"Edit"},()=>i(S,{href:route("products.presets.edit",{tenant:(o==null?void 0:o.id)||"",product:v.product.id,preset:e.id}),asChild:!0},()=>i(f,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>i(H,{class:"size-3"})))),i(G,{title:`Delete ${e.name}`,route:route("products.presets.destroy",{tenant:(o==null?void 0:o.id)||"",product:v.product.id,preset:e.id}),asChild:!1},()=>i(K,{text:"Delete"},()=>i(f,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>i(J,{class:"size-3"}))))])}},{accessorKey:"status",header:()=>i("div",null,"Status"),cell:({row:l})=>{const{status:e,status_label:a}=l.original;return i(R,{variant:e?"default":"destructive"},()=>a)}},{accessorKey:"id",header:()=>i("div",null,"Id"),cell:({row:l})=>i("div",null,l.getValue("id"))},{accessorKey:"machine",header:()=>i("div",null,"Machine"),cell:({row:l})=>{const{machine:e}=l.original;return e?i(S,{href:route("machines.index",{tenant:(o==null?void 0:o.id)||"",search:(e==null?void 0:e.id)||""})},()=>i(f,{class:"cursor-pointer",variant:"link"},()=>e==null?void 0:e.name)):null}},{accessorKey:"name",header:()=>i("div",null,"Name"),cell:({row:l})=>i("div",null,l.getValue("name"))},{accessorKey:"code",header:()=>i("div",null,"Code"),cell:({row:l})=>i("div",null,l.getValue("code"))},{accessorKey:"description",header:()=>i("div",null,"Description"),cell:({row:l})=>i("div",null,l.getValue("description"))},{accessorKey:"cavity_quantity",header:()=>i("div",null,"Cavity Quantity"),cell:({row:l})=>i("div",null,l.getValue("cavity_quantity"))},{accessorKey:"cavity_type",header:()=>i("div",null,"Cavity Type"),cell:({row:l})=>{const{cavity_type_label:e}=l.original;return i("div",null,e||"")}},{accessorKey:"cycle_time",header:()=>i("div",null,"Cycle Time"),cell:({row:l})=>i("div",null,l.getValue("cycle_time"))},{accessorKey:"cycle_time_type",header:()=>i("div",null,"Cycle Time Type"),cell:({row:l})=>{const{cycle_time_type_label:e}=l.original;return i("div",null,e||"")}}],k=w(()=>{var l;return(l=v.options.statuses.find(e=>e.is_default))==null?void 0:l.value}),M=w(()=>{var l;return(l=v.options.statuses.find(e=>s.status?e.value:!e.value))==null?void 0:l.name}),s=z({machine_id:"",name:"",code:"",description:"",cavity_quantity:"",cavity_type:"",cycle_time:"",cycle_time_type:"",status:k.value!==void 0?k.value:1}),h=C({status:!!s.status}),B=()=>s.post(route("products.presets.store",{tenant:(o==null?void 0:o.id)||"",product:v.product.id}),{onSuccess:()=>{s.reset(),x.create.dialogIsOpen=!1}});return $(()=>s.name,l=>{s.code=oe(l)}),$(()=>h.status,l=>{var a;const e=(a=v.options.statuses.find(T=>l?T.value===1:T.value===0))==null?void 0:a.value;e!==void 0&&(s.status=e)}),(l,e)=>(c(),p(W,null,[r(t(F),{title:"Product Presets"}),r(ie,{breadcrumbs:P},{default:n(()=>[d("div",ae,[d("div",de,[d("div",ne,[r(t(X),{title:"Create Preset",open:x.create.dialogIsOpen,"onUpdate:open":e[9]||(e[9]=a=>x.create.dialogIsOpen=a)},{trigger:n(()=>[r(t(f),{class:"cursor-pointer"},{default:n(()=>e[10]||(e[10]=[u("Create")])),_:1,__:[10]})]),default:n(()=>[d("form",{onSubmit:Q(B,["prevent"]),class:"space-y-4"},[d("div",ue,[r(t(y),null,{default:n(()=>e[11]||(e[11]=[u("Name")])),_:1,__:[11]}),r(t(g),{type:"text",placeholder:"Enter Name","model-value":t(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(s).name=a)},null,8,["model-value"]),t(s).errors.name?(c(),p("p",ce,_(t(s).errors.name),1)):m("",!0)]),d("div",pe,[r(t(y),null,{default:n(()=>e[12]||(e[12]=[u("Code")])),_:1,__:[12]}),r(t(g),{type:"text",placeholder:"Enter Code","model-value":t(s).code,"onUpdate:modelValue":e[1]||(e[1]=a=>t(s).code=a)},null,8,["model-value"]),t(s).errors.code?(c(),p("p",me,_(t(s).errors.code),1)):m("",!0)]),d("div",_e,[r(t(y),null,{default:n(()=>e[13]||(e[13]=[u("Description")])),_:1,__:[13]}),r(t(se),{placeholder:"Enter Description","model-value":t(s).description,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).description=a)},null,8,["model-value"]),t(s).errors.description?(c(),p("p",ye,_(t(s).errors.description),1)):m("",!0)]),d("div",ve,[r(t(y),null,{default:n(()=>e[14]||(e[14]=[u("Machine")])),_:1,__:[14]}),r(t(b),{options:l.options.machines,placeholder:"Select Machine","model-value":t(s).machine_id,"onUpdate:modelValue":e[3]||(e[3]=a=>t(s).machine_id=a),"trigger-class":"w-full"},null,8,["options","model-value"]),t(s).errors.machine_id?(c(),p("p",fe,_(t(s).errors.machine_id),1)):m("",!0)]),d("div",ge,[r(t(y),null,{default:n(()=>e[15]||(e[15]=[u("Cavity Quantity")])),_:1,__:[15]}),r(t(g),{type:"number",placeholder:"Enter Cavity Quantity","model-value":t(s).cavity_quantity,"onUpdate:modelValue":e[4]||(e[4]=a=>t(s).cavity_quantity=a),"model-valueModifiers":{number:!0},min:"0",step:".01"},null,8,["model-value"]),t(s).errors.cavity_quantity?(c(),p("p",xe,_(t(s).errors.cavity_quantity),1)):m("",!0)]),d("div",he,[r(t(y),null,{default:n(()=>e[16]||(e[16]=[u("Cavity Type")])),_:1,__:[16]}),r(t(b),{options:l.options.cavity_types,placeholder:"Select Cavity Type","model-value":t(s).cavity_type,"onUpdate:modelValue":e[5]||(e[5]=a=>t(s).cavity_type=a),"trigger-class":"w-full"},null,8,["options","model-value"]),t(s).errors.cavity_type?(c(),p("p",we,_(t(s).errors.cavity_type),1)):m("",!0)]),d("div",Ce,[r(t(y),null,{default:n(()=>e[17]||(e[17]=[u("Cycle Time")])),_:1,__:[17]}),r(t(g),{type:"number",placeholder:"Enter Cycle Time","model-value":t(s).cycle_time,"onUpdate:modelValue":e[6]||(e[6]=a=>t(s).cycle_time=a),"model-valueModifiers":{number:!0},min:"0",step:".01"},null,8,["model-value"]),t(s).errors.cycle_time?(c(),p("p",be,_(t(s).errors.cycle_time),1)):m("",!0)]),d("div",Ve,[r(t(y),null,{default:n(()=>e[18]||(e[18]=[u("Cycle Time Type")])),_:1,__:[18]}),r(t(b),{options:l.options.cycle_time_types,placeholder:"Select Cycle Time Type","model-value":t(s).cycle_time_type,"onUpdate:modelValue":e[7]||(e[7]=a=>t(s).cycle_time_type=a),"trigger-class":"w-full"},null,8,["options","model-value"]),t(s).errors.cycle_time_type?(c(),p("p",ke,_(t(s).errors.cycle_time_type),1)):m("",!0)]),d("div",Te,[r(t(y),{class:"mb-1"},{default:n(()=>e[19]||(e[19]=[u("Status")])),_:1,__:[19]}),d("div",$e,[r(t(ee),{class:"cursor-pointer","model-value":h.status,"onUpdate:modelValue":e[8]||(e[8]=a=>h.status=a)},null,8,["model-value"]),r(t(y),null,{default:n(()=>[u(_(M.value),1)]),_:1})]),t(s).errors.status?(c(),p("p",Se,_(t(s).errors.status),1)):m("",!0)]),d("div",Ke,[r(t(f),{type:"submit",class:"cursor-pointer",disabled:t(s).processing},{default:n(()=>[t(s).processing?(c(),j(t(te),{key:0,class:"animate-spin"})):m("",!0),e[20]||(e[20]=u(" Create "))]),_:1,__:[20]},8,["disabled"])])],32)]),_:1},8,["open"])]),d("div",null,[r(t(Y),{columns:I,"paginate-data":l.presets,"column-visibility":N,filter:q,"entry-options":t(Z),"search-config":D,onFilterChange:E},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Ye as default};
