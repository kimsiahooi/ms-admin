import{d as E,c as S,j as b,x as H,m as D,a as p,o as c,e as a,u as s,g as O,w as n,b as d,f as q,i as f,h as u,t as m,q as F,k as t,F as j,W,S as y}from"./app-KSbgUuIU.js";import{p as A,_ as h,P as G,a as J,T as Q,b as R}from"./pickBy-OLrpSmxv.js";import{_ as X}from"./Dialog.vue_vue_type_script_setup_true_lang-GgexZgWT.js";import{_ as Y}from"./Select.vue_vue_type_script_setup_true_lang-BILVJfgr.js";import{_ as Z,e as ee}from"./options-CxoPM4-n.js";import{a as w,_}from"./index-CYBbWwLu.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-B4lqTRAY.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-BQ1of87h.js";import{_ as se,L as te}from"./Switch.vue_vue_type_script_setup_true_lang-m9ul1BKW.js";import{_ as le}from"./Textarea.vue_vue_type_script_setup_true_lang-ybfpBnld.js";import{u as oe,_ as re}from"./AppLayout.vue_vue_type_script_setup_true_lang-AZ2PnkQR.js";import{_ as ae}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CmtaUbgQ.js";import{s as ie}from"./slug-xwoAxeGq.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-1WHSHCLR.js";import"./RovingFocusGroup-CJwQLeDY.js";import"./useForwardExpose-BCGP6J9B.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B0BTTmgX.js";import"./check-DTeDlD4X.js";import"./useFormControl-AaFHe1Yj.js";import"./VisuallyHiddenInput-CPNnyZE-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CRRCczxj.js";import"./index-T6uICwUp.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=w("CircleDollarSignIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=w("ScrollTextIcon",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=w("Settings2Icon",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ce={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},pe={class:"space-y-3"},fe={class:"flex flex-wrap items-center justify-end gap-2"},me={class:"grid w-full max-w-sm items-center gap-1.5"},_e={key:0,class:"text-destructive"},ve={class:"grid w-full max-w-sm items-center gap-1.5"},he={key:0,class:"text-destructive"},ye={class:"grid w-full max-w-sm items-center gap-1.5"},ge={key:0,class:"text-destructive"},xe={class:"grid w-full max-w-sm items-center gap-1.5"},ke={class:"grid gap-1.5 md:grid-cols-2"},Se={class:"grid gap-1.5"},be={class:"grid gap-1.5"},Ve={key:0,class:"text-destructive"},we={key:1,class:"text-destructive"},Ce={class:"grid w-full max-w-sm items-center gap-1.5"},$e={class:"flex items-center space-x-2"},ze={key:0,class:"text-destructive"},De={class:"flex gap-2"},Ye=E({layout:ae,__name:"Index",props:{products:{},options:{}},setup(I){const g=I,{tenant:r}=oe(),C=S(()=>route().params),L=b({search:C.value.search,entries:C.value.entries||"10"}),x=b({create:{dialogIsOpen:!1}}),M={placeholder:"Search name..."},T=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Products",href:route("products.index",{tenant:(r==null?void 0:r.id)||""})}],K=o=>{W.visit(route("products.index",{...A(o),tenant:(r==null?void 0:r.id)||""}))},P={id:!1,description:!1},N=[{accessorKey:"actions",header:()=>t("div",null,"Actions"),cell:({row:o})=>{const e=o.original;return t("div",{class:"flex items-center gap-2"},[t(h,{text:"Presets"},()=>t(y,{href:route("products.presets.index",{tenant:(r==null?void 0:r.id)||"",product:e.id})},()=>t(_,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(ue,{class:"size-3"})))),t(h,{text:"Prices"},()=>t(y,{href:route("products.prices.index",{tenant:(r==null?void 0:r.id)||"",product:e.id})},()=>t(_,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(de,{class:"size-3"})))),t(h,{text:"Boms"},()=>t(y,{href:route("products.boms.index",{tenant:(r==null?void 0:r.id)||"",product:e.id})},()=>t(_,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(ne,{class:"size-3"})))),t(h,{text:"Edit"},()=>t(y,{href:route("products.edit",{tenant:(r==null?void 0:r.id)||"",product:e.id})},()=>t(_,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>t(G,{class:"size-3"})))),t(J,{title:`Delete ${e.name}`,route:route("products.destroy",{tenant:(r==null?void 0:r.id)||"",product:e.id}),asChild:!1},()=>t(h,{text:"Delete"},()=>t(_,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>t(Q,{class:"size-3"}))))])}},{accessorKey:"status",header:()=>t("div",null,"Status"),cell:({row:o})=>{const{status:e,status_label:i}=o.original;return t(R,{variant:e?"default":"destructive"},()=>i)}},{accessorKey:"id",header:()=>t("div",null,"Id"),cell:({row:o})=>t("div",null,o.getValue("id"))},{accessorKey:"name",header:()=>t("div",null,"Name"),cell:({row:o})=>t("div",null,o.getValue("name"))},{accessorKey:"code",header:()=>t("div",null,"Code"),cell:({row:o})=>t("div",null,o.getValue("code"))},{accessorKey:"description",header:()=>t("div",null,"Description"),cell:({row:o})=>t("div",null,o.getValue("description"))},{accessorKey:"shelf_life_duration",header:()=>t("div",null,"Shelf Life Duration"),cell:({row:o})=>t("div",null,o.original.shelf_life_duration||"")},{accessorKey:"shelf_life_type",header:()=>t("div",null,"Shelf Life Type"),cell:({row:o})=>t("div",null,o.original.shelf_life_type_label||"")}],$=S(()=>{var o;return(o=g.options.statuses.find(e=>e.is_default))==null?void 0:o.value}),U=S(()=>{var o;return(o=g.options.statuses.find(e=>l.status?e.value:!e.value))==null?void 0:o.name}),l=H({name:"",code:"",description:"",shelf_life_duration:"",shelf_life_type:"",status:$.value!==void 0?$.value:1}),k=b({status:!!l.status}),B=()=>l.post(route("products.store",{tenant:(r==null?void 0:r.id)||""}),{onSuccess:()=>{l.reset(),x.create.dialogIsOpen=!1}});return D(()=>l.name,o=>{l.code=ie(o)}),D(()=>k.status,o=>{var i;const e=(i=g.options.statuses.find(z=>o?z.value===1:z.value===0))==null?void 0:i.value;e!==void 0&&(l.status=e)}),(o,e)=>(c(),p(j,null,[a(s(O),{title:"Products"}),a(re,{breadcrumbs:T},{default:n(()=>[d("div",ce,[d("div",pe,[d("div",fe,[a(s(X),{title:"Create Product",open:x.create.dialogIsOpen,"onUpdate:open":e[6]||(e[6]=i=>x.create.dialogIsOpen=i)},{trigger:n(()=>[a(s(_),{class:"cursor-pointer"},{default:n(()=>e[7]||(e[7]=[u("Create")])),_:1,__:[7]})]),default:n(()=>[d("form",{onSubmit:q(B,["prevent"]),class:"space-y-4"},[d("div",me,[a(s(v),null,{default:n(()=>e[8]||(e[8]=[u("Name")])),_:1,__:[8]}),a(s(V),{type:"text",placeholder:"Enter Name","model-value":s(l).name,"onUpdate:modelValue":e[0]||(e[0]=i=>s(l).name=i)},null,8,["model-value"]),s(l).errors.name?(c(),p("p",_e,m(s(l).errors.name),1)):f("",!0)]),d("div",ve,[a(s(v),null,{default:n(()=>e[9]||(e[9]=[u("Code")])),_:1,__:[9]}),a(s(V),{type:"text",placeholder:"Enter Code","model-value":s(l).code,"onUpdate:modelValue":e[1]||(e[1]=i=>s(l).code=i)},null,8,["model-value"]),s(l).errors.code?(c(),p("p",he,m(s(l).errors.code),1)):f("",!0)]),d("div",ye,[a(s(v),null,{default:n(()=>e[10]||(e[10]=[u("Description")])),_:1,__:[10]}),a(s(le),{placeholder:"Enter Description","model-value":s(l).description,"onUpdate:modelValue":e[2]||(e[2]=i=>s(l).description=i)},null,8,["model-value"]),s(l).errors.description?(c(),p("p",ge,m(s(l).errors.description),1)):f("",!0)]),d("div",xe,[d("div",ke,[d("div",Se,[a(s(v),null,{default:n(()=>e[11]||(e[11]=[u("Shelf Life Duration")])),_:1,__:[11]}),a(s(V),{type:"number",placeholder:"Enter Shelf Life Duration","model-value":s(l).shelf_life_duration,"onUpdate:modelValue":e[3]||(e[3]=i=>s(l).shelf_life_duration=i),min:"0.01",step:".01",class:"w-full"},null,8,["model-value"])]),d("div",be,[a(s(v),null,{default:n(()=>e[12]||(e[12]=[u("Shelf Life Type")])),_:1,__:[12]}),a(s(Y),{options:o.options.shelf_life_types,placeholder:"Select Shelf Life Type","model-value":s(l).shelf_life_type,"onUpdate:modelValue":e[4]||(e[4]=i=>s(l).shelf_life_type=i),"trigger-class":"w-full"},null,8,["options","model-value"])])]),s(l).errors.shelf_life_duration?(c(),p("p",Ve,m(s(l).errors.shelf_life_duration),1)):f("",!0),s(l).errors.shelf_life_type?(c(),p("p",we,m(s(l).errors.shelf_life_type),1)):f("",!0)]),d("div",Ce,[a(s(v),{class:"mb-1"},{default:n(()=>e[13]||(e[13]=[u("Status")])),_:1,__:[13]}),d("div",$e,[a(s(se),{class:"cursor-pointer","model-value":k.status,"onUpdate:modelValue":e[5]||(e[5]=i=>k.status=i)},null,8,["model-value"]),a(s(v),null,{default:n(()=>[u(m(U.value),1)]),_:1})]),s(l).errors.status?(c(),p("p",ze,m(s(l).errors.status),1)):f("",!0)]),d("div",De,[a(s(_),{type:"submit",class:"cursor-pointer",disabled:s(l).processing},{default:n(()=>[s(l).processing?(c(),F(s(te),{key:0,class:"animate-spin"})):f("",!0),e[14]||(e[14]=u(" Create "))]),_:1,__:[14]},8,["disabled"])])],32)]),_:1},8,["open"])]),d("div",null,[a(s(Z),{columns:N,"paginate-data":o.products,"column-visibility":P,filter:L,"entry-options":s(ee),"search-config":M,onFilterChange:K},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Ye as default};
