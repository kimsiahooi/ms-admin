import{d as U,c as x,j as C,x as B,m as O,a as m,o as u,e as r,u as e,g as z,w as d,b as n,f as A,i as p,h as c,t as _,q as E,W as F,k as i,F as M,S as P}from"./app-Ca6B20Vz.js";import{_ as j}from"./DeleteDialog.vue_vue_type_script_setup_true_lang-_BOK7qXp.js";import{_ as L,P as W}from"./Dialog.vue_vue_type_script_setup_true_lang-DIvpwqmc.js";import{_ as q,e as H,u as G}from"./options-D-fzGrun.js";import{_ as v}from"./index-CJCEQRlH.js";import{p as J,T as Q,_ as R}from"./pickBy-d3_6Ny80.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-DEDyQ7b3.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-CGwBPp-x.js";import{s as X,_ as Y,a as Z}from"./slug-DF2Gj0ID.js";import{u as ee,_ as se}from"./AppLayout.vue_vue_type_script_setup_true_lang-CUcfEIAE.js";import{_ as te}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-DyzzONnw.js";import{L as ae}from"./loader-B7WVB_hw.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-S-gHoVxI.js";import"./RovingFocusGroup-CMGXFI4i.js";import"./useForwardExpose-F3Z0XM54.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BBT9hPXf.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-BJqLwjKR.js";import"./check-DulPtJwb.js";import"./useFormControl-BZYuW8wt.js";import"./VisuallyHiddenInput-yYGSp1Aq.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CmFoY379.js";import"./index-DZckqy0Q.js";const ie={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},oe={class:"space-y-3"},re={class:"flex flex-wrap items-center justify-end gap-2"},le={class:"grid w-full max-w-sm items-center gap-1.5"},ne={key:0,class:"text-destructive"},de={class:"grid w-full max-w-sm items-center gap-1.5"},ce={key:0,class:"text-destructive"},ue={class:"grid w-full max-w-sm items-center gap-1.5"},me={key:0,class:"text-destructive"},pe={class:"grid w-full max-w-sm items-center gap-1.5"},_e={class:"flex items-center space-x-2"},fe={key:0,class:"text-destructive"},ve={class:"flex gap-2"},Fe=U({layout:te,__name:"Index",props:{machines:{},options:{}},setup(w){const V=w,{formatDateTime:h}=G(),{tenant:o}=ee(),y=x(()=>route().params),$=C({search:y.value.search,entries:y.value.entries||"10"}),g=C({create:{dialogIsOpen:!1}}),k={placeholder:"Search name..."},D=[{title:"Dashboard",href:route("dashboard",{tenant:(o==null?void 0:o.id)||""})},{title:"Machines",href:route("machines.index",{tenant:(o==null?void 0:o.id)||""})}],K=t=>F.visit(route("machines.index",{...J(t),tenant:(o==null?void 0:o.id)||""})),N={id:!1,description:!1},S=[{accessorKey:"actions",header:()=>i("div",null,"Actions"),cell:({row:t})=>{const s=t.original;return i("div",{class:"flex items-center gap-2"},[i(P,{href:route("machines.edit",{tenant:(o==null?void 0:o.id)||"",machine:s.id}),asChild:!0},()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>i(W,{class:"size-3"}))),i(j,{title:`Delete ${s.name}`,route:route("machines.destroy",{tenant:(o==null?void 0:o.id)||"",machine:s.id})},{default:()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>i(Q,{class:"size-3"}))})])}},{accessorKey:"id",header:()=>i("div",null,"Id"),cell:({row:t})=>i("div",null,t.getValue("id"))},{accessorKey:"name",header:()=>i("div",null,"Name"),cell:({row:t})=>i("div",null,t.getValue("name"))},{accessorKey:"code",header:()=>i("div",null,"Code"),cell:({row:t})=>i("div",null,t.getValue("code"))},{accessorKey:"description",header:()=>i("div",null,"Description"),cell:({row:t})=>i("div",null,t.getValue("description"))},{accessorKey:"is_active",header:()=>i("div",null,"Active"),cell:({row:t})=>{const{is_active:s,is_active_display:l}=t.original;return i(R,{variant:s?"default":"destructive"},()=>l)}},{accessorKey:"created_at",header:()=>i("div",null,"Created At"),cell:({row:t})=>i("div",null,h(t.original.created_at)||"")},{accessorKey:"updated_at",header:()=>i("div",null,"Updated At"),cell:({row:t})=>i("div",null,h(t.original.updated_at)||"")}],I=x(()=>{var t;return(t=V.options.statuses.find(s=>a.is_active?s.value:!s.value))==null?void 0:t.name}),a=B({name:"",code:"",description:"",is_active:!0}),T=()=>a.post(route("machines.store",{tenant:(o==null?void 0:o.id)||""}),{onSuccess:()=>{a.reset(),g.create.dialogIsOpen=!1}});return O(()=>a.name,t=>{a.code=X(t)}),(t,s)=>(u(),m(M,null,[r(e(z),{title:"Machines"}),r(se,{breadcrumbs:D},{default:d(()=>[n("div",ie,[n("div",oe,[n("div",re,[r(e(L),{title:"Create Machine",open:g.create.dialogIsOpen,"onUpdate:open":s[4]||(s[4]=l=>g.create.dialogIsOpen=l)},{trigger:d(()=>[r(e(v),{class:"cursor-pointer"},{default:d(()=>s[5]||(s[5]=[c("Create")])),_:1,__:[5]})]),default:d(()=>[n("form",{onSubmit:A(T,["prevent"]),class:"space-y-4"},[n("div",le,[r(e(f),null,{default:d(()=>s[6]||(s[6]=[c("Name")])),_:1,__:[6]}),r(e(b),{type:"text",placeholder:"Enter Name","model-value":e(a).name,"onUpdate:modelValue":s[0]||(s[0]=l=>e(a).name=l)},null,8,["model-value"]),e(a).errors.name?(u(),m("p",ne,_(e(a).errors.name),1)):p("",!0)]),n("div",de,[r(e(f),null,{default:d(()=>s[7]||(s[7]=[c("Code")])),_:1,__:[7]}),r(e(b),{type:"text",placeholder:"Enter Code","model-value":e(a).code,"onUpdate:modelValue":s[1]||(s[1]=l=>e(a).code=l)},null,8,["model-value"]),e(a).errors.code?(u(),m("p",ce,_(e(a).errors.code),1)):p("",!0)]),n("div",ue,[r(e(f),null,{default:d(()=>s[8]||(s[8]=[c("Description")])),_:1,__:[8]}),r(e(Y),{placeholder:"Enter Description","model-value":e(a).description,"onUpdate:modelValue":s[2]||(s[2]=l=>e(a).description=l)},null,8,["model-value"]),e(a).errors.description?(u(),m("p",me,_(e(a).errors.description),1)):p("",!0)]),n("div",pe,[r(e(f),{class:"mb-1"},{default:d(()=>s[9]||(s[9]=[c("Status")])),_:1,__:[9]}),n("div",_e,[r(e(Z),{class:"cursor-pointer","model-value":e(a).is_active,"onUpdate:modelValue":s[3]||(s[3]=l=>e(a).is_active=l)},null,8,["model-value"]),r(e(f),null,{default:d(()=>[c(_(I.value),1)]),_:1})]),e(a).errors.is_active?(u(),m("p",fe,_(e(a).errors.is_active),1)):p("",!0)]),n("div",ve,[r(e(v),{type:"submit",class:"cursor-pointer",disabled:e(a).processing},{default:d(()=>[e(a).processing?(u(),E(e(ae),{key:0,class:"animate-spin"})):p("",!0),s[10]||(s[10]=c(" Create "))]),_:1,__:[10]},8,["disabled"])])],32)]),_:1},8,["open"])]),n("div",null,[r(e(q),{columns:S,"paginate-data":t.machines,"column-visibility":N,filter:$,"entry-options":e(H),"search-config":k,onFilterChange:K},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Fe as default};
