import{c as O,_ as q}from"./index-ObBAPkBY.js";import{_ as C}from"./FormInput.vue_vue_type_script_setup_true_lang-B9U5b3Iw.js";import{_ as b}from"./FormSelect.vue_vue_type_script_setup_true_lang-7CDC7IuW.js";import{d as E,D as M,E as T,z as f,c as B,r as N,f as v,a as $,o as D,b as p,e as s,u as m,w as V,p as P}from"./app-D7AVAIhk.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=O("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=O("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function L(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}let _;const j=new Uint8Array(16);function A(){if(!_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_=crypto.getRandomValues.bind(crypto)}return _(j)}const H=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w={randomUUID:H};function Q(e,t,l){var c;if(w.randomUUID&&!t&&!e)return w.randomUUID();e=e||{};const o=e.random??((c=e.rng)==null?void 0:c.call(e))??A();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){if(l=l||0,l<0||l+16>t.length)throw new RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);for(let d=0;d<16;++d)t[l+d]=o[d];return t}return L(o)}const F=()=>({uuid:Q}),G={class:"flex flex-col gap-2 md:flex-row"},J={class:"flex-1"},K={class:"flex-1"},W={class:"flex-1"},X={key:0},ae=E({__name:"MaterialSelect",props:M({materialOptions:{},unitTypeOptions:{},totalSelected:{},currIndex:{}},{modelValue:{},modelModifiers:{}}),emits:M(["remove"],["update:modelValue"]),setup(e,{emit:t}){var h,U,g,k,x,I;const l=e,o=T(e,"modelValue"),c=t,{uuid:d}=F(),y=f(((U=(h=o.value)==null?void 0:h.data)==null?void 0:U.id)||""),R=B(()=>l.materialOptions.map(n=>({...n,value:n.value.id}))),u=N({key:((g=o.value)==null?void 0:g.key)||d(),data:((k=o.value)==null?void 0:k.data)||null,quantity:((x=o.value)==null?void 0:x.quantity)||"",unit_type:((I=o.value)==null?void 0:I.unit_type)||""}),S=()=>{c("remove",u.key)};return v(y,n=>{var i;n?u.data=((i=l.materialOptions.find(r=>r.value.id===n))==null?void 0:i.value)||null:u.data=null}),v(()=>u.data,n=>{n!=null&&n.unit_type?u.unit_type=n.unit_type:u.unit_type=""},{deep:!0}),v(u,n=>{o.value&&(o.value=n)},{deep:!0}),(n,i)=>(D(),$("div",null,[p("div",G,[p("div",J,[s(m(b),{label:"Material",options:R.value,"model-value":y.value,"onUpdate:modelValue":i[0]||(i[0]=r=>y.value=r),"error-key":`materials.${n.currIndex}.id`},null,8,["options","model-value","error-key"])]),p("div",K,[s(m(b),{label:"Unit Type",options:n.unitTypeOptions,"model-value":u.unit_type,"onUpdate:modelValue":i[1]||(i[1]=r=>u.unit_type=r),"error-key":`materials.${n.currIndex}.unit_type`},null,8,["options","model-value","error-key"])]),p("div",W,[s(m(C),{label:"Quantity",type:"number","model-value":u.quantity,"onUpdate:modelValue":i[2]||(i[2]=r=>u.quantity=r),min:"0.01",step:".01","error-key":`materials.${n.currIndex}.quantity`},{default:V(()=>[n.totalSelected>1?(D(),$("div",X,[s(m(q),{type:"button",class:"cursor-pointer",size:"icon",variant:"destructive",onClick:S},{default:V(()=>[s(m(z))]),_:1})])):P("",!0)]),_:1},8,["model-value","error-key"])])])]))}});export{ne as P,ae as _,F as u};
