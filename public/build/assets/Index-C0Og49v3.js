import{_ as b,a as S,b as x}from"./StatusSwitch.vue_vue_type_script_setup_true_lang-BZcE18FL.js";import{_ as V,a as $,b as K,e as C,p as D,c,P as T,d as B,T as N,u as k}from"./pickBy-2vWdj-xt.js";import{_ as w}from"./index-gvFlOA9A.js";import{L as R}from"./index-BvCIcig5.js";import{d as U,c as _,x as A,a as F,o as I,e as l,u as o,g as P,w as u,b as m,W as E,S as L,q as W,k as t,l as j,F as q}from"./app-BgTXa90_.js";import{u as O,_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-CdHOQRKV.js";import{_ as G}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-k-gsNc47.js";import{S as H}from"./scroll-text-CBKgkFAF.js";import"./useForwardExpose-rU1I-y_0.js";import"./Label.vue_vue_type_script_setup_true_lang-DfAzriwx.js";import"./Select.vue_vue_type_script_setup_true_lang-1hEi5SeN.js";import"./RovingFocusGroup-Cq5P6bq-.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-COVDtZ7L.js";import"./check-DnxLo8EA.js";import"./useFormControl-D4E9fVKJ.js";import"./nullish-CHIgUVhi.js";import"./chevron-down-53sWXJgT.js";import"./Switch.vue_vue_type_script_setup_true_lang-C_f7LROW.js";import"./VisuallyHiddenInput-DKmQAXjO.js";import"./Input.vue_vue_type_script_setup_true_lang-CoLfU2BV.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-DmsPglon.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-a7lEFZeV.js";const J={class:"space-y-3"},M={class:"flex flex-wrap items-center justify-end gap-2"},ye=U({layout:G,__name:"Index",props:{routes:{},options:{}},setup(Q){const{tenant:e}=O(),{formatDateTime:p}=k(),d=_(()=>route().params),r=A({search:d.value.search,entries:d.value.entries||"10",status:d.value.status}),v=_(()=>[{title:"Dashboard",href:route("dashboard",{tenant:(e==null?void 0:e.id)||""})},{title:"Routes",href:route("routes.index",{tenant:(e==null?void 0:e.id)||""})}]),n=()=>E.visit(route("routes.index",{...D(r.data()),tenant:(e==null?void 0:e.id)||""}),{preserveScroll:!0,preserveState:!0}),h=()=>{r.reset(),n()},g=[{accessorKey:"actions",header:()=>t("div",null,"Actions"),cell:({row:a})=>{const s=a.original;return t("div",{class:"flex items-center gap-2"},[t(S,{value:s.status.switch,method:"put",href:route("routes.toggleStatus",{tenant:(e==null?void 0:e.id)||"",route:s.id})}),t(c,{text:"Edit",href:route("routes.edit",{tenant:(e==null?void 0:e.id)||"",route:s.id}),icon:T}),t(c,{text:"Boms",href:route("routes.boms.index",{tenant:(e==null?void 0:e.id)||"",route:s.id}),icon:H}),t(B,{title:`Delete ${s.name}`,route:route("routes.destroy",{tenant:(e==null?void 0:e.id)||"",route:s.id}),asChild:!1},()=>t(c,{variant:"destructive",text:"Delete",icon:N}))])}},{accessorKey:"status",header:()=>t("div",null,"Status"),cell:({row:a})=>{const{status:s}=a.original;return t(x,{statusBadge:s.badge})}},{accessorKey:"id",header:()=>t("div",null,"Id"),cell:({row:a})=>t("div",null,a.getValue("id"))},{accessorKey:"name",header:()=>t("div",null,"Name"),cell:({row:a})=>t("div",null,a.getValue("name"))},{accessorKey:"code",header:()=>t("div",null,"Code"),cell:({row:a})=>t("div",null,a.getValue("code"))},{accessorKey:"description",header:()=>t("div",null,"Description"),cell:({row:a})=>t("div",null,a.getValue("description"))},{accessorKey:"created_at",header:()=>t("div",null,"Created At"),cell:({row:a})=>t("div",null,p(a.getValue("created_at"))||"")},{accessorKey:"updated_at",header:()=>t("div",null,"Updated At"),cell:({row:a})=>t("div",null,p(a.getValue("updated_at"))||"")}],y={id:!1,description:!1};return(a,s)=>(I(),F(q,null,[l(o(P),{title:"Routes"}),l(z,{breadcrumbs:v.value},{default:u(()=>[l(o(R),null,{default:u(()=>{var f;return[m("div",J,[l(o(V),{onSearch:n,onReset:h},{default:u(()=>[l(o($),{label:"Name",placeholder:"Search ID, Name, Code","model-value":o(r).search,"onUpdate:modelValue":s[0]||(s[0]=i=>o(r).search=i)},null,8,["model-value"]),l(o(b),{label:"Status",placeholder:"Select Status",options:a.options.select.statuses,multiple:"","model-value":o(r).status,"onUpdate:modelValue":s[1]||(s[1]=i=>o(r).status=i)},null,8,["options","model-value"])]),_:1}),m("div",M,[l(o(L),{href:a.route("routes.create",{tenant:((f=o(e))==null?void 0:f.id)||""}),"as-child":""},{default:u(()=>[l(o(w),{class:"cursor-pointer"},{default:u(()=>s[3]||(s[3]=[W("Create")])),_:1,__:[3]})]),_:1},8,["href"])]),m("div",null,[l(o(K),{"model-value":o(r),"onUpdate:modelValue":s[2]||(s[2]=i=>j(r)?r.value=i:null),columns:g,"paginate-data":a.routes,"column-visibility":y,"entry-options":o(C),onSearch:n},null,8,["model-value","paginate-data","entry-options"])])])]}),_:1})]),_:1},8,["breadcrumbs"])],64))}});export{ye as default};
