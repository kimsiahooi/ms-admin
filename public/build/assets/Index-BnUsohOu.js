import{d as D,c as x,j as b,x as K,a as m,o as p,e as a,u as e,g as O,w as n,b as l,f as z,i as f,h as u,t as _,q as N,W as T,k as r,F as U,S as E}from"./app-DLF9ENt6.js";import{_ as F,a as C,P as j,b as L}from"./Tooltip.vue_vue_type_script_setup_true_lang-Cxu7Ka6T.js";import{_ as M}from"./Select.vue_vue_type_script_setup_true_lang-G2Ij4qMo.js";import{_ as W,e as q}from"./options-CDr-3_VA.js";import{_ as v}from"./index-Dgon1quf.js";import{p as H,T as G,_ as J}from"./pickBy-CWkWFL6Y.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-B65uer2a.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-B8-UAsF-.js";import{_ as R,L as X}from"./Switch.vue_vue_type_script_setup_true_lang-bRKm5iUr.js";import{u as Y,_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-6_eINdig.js";import{_ as ee}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-Cjp6B7k7.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-xLjRZqAa.js";import"./RovingFocusGroup-CGRD81UO.js";import"./useForwardExpose-BB69YxuR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Bff7cFfc.js";import"./check-iUSvw4j_.js";import"./useFormControl-D2i4wKpN.js";import"./VisuallyHiddenInput-DQgduykt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhaSU889.js";import"./index-D8_8r1Of.js";const se={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},te={class:"space-y-3"},re={class:"flex flex-wrap items-center justify-end gap-2"},ie={class:"grid w-full max-w-sm items-center gap-1.5"},oe={key:0,class:"text-destructive"},ae={class:"grid w-full max-w-sm items-center gap-1.5"},le={key:0,class:"text-destructive"},ce={class:"grid w-full max-w-sm items-center gap-1.5"},ne={class:"flex items-center space-x-2"},de={key:0,class:"text-destructive"},ue={class:"flex gap-2"},De=D({layout:ee,__name:"Index",props:{product:{},prices:{},options:{}},setup($){const d=$,{tenant:t}=Y(),h=x(()=>route().params),w=b({search:h.value.search,entries:h.value.entries||"10"}),y=b({create:{dialogIsOpen:!1}}),V={placeholder:"Search name..."},k=[{title:"Dashboard",href:route("dashboard",{tenant:(t==null?void 0:t.id)||""})},{title:"Products",href:route("products.index",{tenant:(t==null?void 0:t.id)||""})},{title:d.product.name,href:"#"},{title:"Prices",href:route("products.prices.index",{tenant:(t==null?void 0:t.id)||"",product:d.product.id})}],P=o=>T.visit(route("products.prices.index",{...H(o),tenant:(t==null?void 0:t.id)||"",product:d.product.id})),S={id:!1},I=[{accessorKey:"actions",header:()=>r("div",null,"Actions"),cell:({row:o})=>{const s=o.original;return r("div",{class:"flex items-center gap-2"},[r(C,{text:"Edit"},()=>r(E,{href:route("products.prices.edit",{tenant:(t==null?void 0:t.id)||"",product:d.product.id,price:s.id}),asChild:!0},()=>r(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>r(j,{class:"size-3"})))),r(L,{title:`Delete ${s.currency}`,route:route("products.prices.destroy",{tenant:(t==null?void 0:t.id)||"",product:d.product.id,price:s.id}),asChild:!1},()=>r(C,{text:"Delete"},()=>r(v,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>r(G,{class:"size-3"}))))])}},{accessorKey:"is_active",header:()=>r("div",null,"Active"),cell:({row:o})=>{const{is_active:s,is_active_display:c}=o.original;return r(J,{variant:s?"default":"destructive"},()=>c)}},{accessorKey:"id",header:()=>r("div",null,"Id"),cell:({row:o})=>r("div",null,o.getValue("id"))},{accessorKey:"currency",header:()=>r("div",null,"Currency"),cell:({row:o})=>r("div",null,o.getValue("currency"))},{accessorKey:"amount",header:()=>r("div",null,"Amount"),cell:({row:o})=>r("div",null,o.getValue("amount"))}],A=x(()=>{var o;return(o=d.options.statuses.find(s=>i.is_active?s.value:!s.value))==null?void 0:o.name}),i=K({currency:"",amount:"",is_active:!0}),B=()=>i.post(route("products.prices.store",{tenant:(t==null?void 0:t.id)||"",product:d.product.id}),{onSuccess:()=>{i.reset(),y.create.dialogIsOpen=!1}});return(o,s)=>(p(),m(U,null,[a(e(O),{title:"Product Prices"}),a(Z,{breadcrumbs:k},{default:n(()=>[l("div",se,[l("div",te,[l("div",re,[a(e(F),{title:"Create Price",open:y.create.dialogIsOpen,"onUpdate:open":s[3]||(s[3]=c=>y.create.dialogIsOpen=c)},{trigger:n(()=>[a(e(v),{class:"cursor-pointer"},{default:n(()=>s[4]||(s[4]=[u("Create")])),_:1,__:[4]})]),default:n(()=>[l("form",{onSubmit:z(B,["prevent"]),class:"space-y-4"},[l("div",ie,[a(e(g),null,{default:n(()=>s[5]||(s[5]=[u("Currency")])),_:1,__:[5]}),a(e(M),{options:o.options.currencies,placeholder:"Select Currency","model-value":e(i).currency,"onUpdate:modelValue":s[0]||(s[0]=c=>e(i).currency=c),"trigger-class":"w-full"},null,8,["options","model-value"]),e(i).errors.currency?(p(),m("p",oe,_(e(i).errors.currency),1)):f("",!0)]),l("div",ae,[a(e(g),null,{default:n(()=>s[6]||(s[6]=[u("Amount")])),_:1,__:[6]}),a(e(Q),{type:"number",placeholder:"Enter Amount","model-value":e(i).amount,"onUpdate:modelValue":s[1]||(s[1]=c=>e(i).amount=c),"model-valueModifiers":{number:!0},step:".01",min:"0"},null,8,["model-value"]),e(i).errors.amount?(p(),m("p",le,_(e(i).errors.amount),1)):f("",!0)]),l("div",ce,[a(e(g),{class:"mb-1"},{default:n(()=>s[7]||(s[7]=[u("Status")])),_:1,__:[7]}),l("div",ne,[a(e(R),{class:"cursor-pointer","model-value":e(i).is_active,"onUpdate:modelValue":s[2]||(s[2]=c=>e(i).is_active=c)},null,8,["model-value"]),a(e(g),null,{default:n(()=>[u(_(A.value),1)]),_:1})]),e(i).errors.is_active?(p(),m("p",de,_(e(i).errors.is_active),1)):f("",!0)]),l("div",ue,[a(e(v),{type:"submit",class:"cursor-pointer",disabled:e(i).processing},{default:n(()=>[e(i).processing?(p(),N(e(X),{key:0,class:"animate-spin"})):f("",!0),s[8]||(s[8]=u(" Create "))]),_:1,__:[8]},8,["disabled"])])],32)]),_:1},8,["open"])]),l("div",null,[a(e(W),{columns:I,"paginate-data":o.prices,"column-visibility":S,filter:w,"entry-options":e(q),"search-config":V,onFilterChange:P},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{De as default};
