import{d as E,c as x,j as y,x as O,m as U,a as u,o as m,e as r,u as e,g as z,w as d,b as n,f as M,i as p,h as c,t as _,q as T,W as F,k as i,F as P,S as j}from"./app-DLF9ENt6.js";import{_ as A,a as b,P as L,b as W}from"./Tooltip.vue_vue_type_script_setup_true_lang-Cxu7Ka6T.js";import{_ as q,e as H}from"./options-CDr-3_VA.js";import{_ as v}from"./index-Dgon1quf.js";import{p as G,T as J,_ as Q}from"./pickBy-CWkWFL6Y.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-B65uer2a.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-B8-UAsF-.js";import{_ as R,L as X}from"./Switch.vue_vue_type_script_setup_true_lang-bRKm5iUr.js";import{_ as Y}from"./Textarea.vue_vue_type_script_setup_true_lang-DW5HuoEi.js";import{u as Z,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-6_eINdig.js";import{_ as se}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-Cjp6B7k7.js";import{s as te}from"./slug-xwoAxeGq.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-xLjRZqAa.js";import"./RovingFocusGroup-CGRD81UO.js";import"./useForwardExpose-BB69YxuR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Bff7cFfc.js";import"./check-iUSvw4j_.js";import"./Select.vue_vue_type_script_setup_true_lang-G2Ij4qMo.js";import"./useFormControl-D2i4wKpN.js";import"./VisuallyHiddenInput-DQgduykt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhaSU889.js";import"./index-D8_8r1Of.js";const ae={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ie={class:"space-y-3"},oe={class:"flex flex-wrap items-center justify-end gap-2"},re={class:"grid w-full max-w-sm items-center gap-1.5"},le={key:0,class:"text-destructive"},ne={class:"grid w-full max-w-sm items-center gap-1.5"},de={key:0,class:"text-destructive"},ce={class:"grid w-full max-w-sm items-center gap-1.5"},me={key:0,class:"text-destructive"},ue={class:"grid w-full max-w-sm items-center gap-1.5"},pe={class:"flex items-center space-x-2"},_e={key:0,class:"text-destructive"},fe={class:"flex gap-2"},Te=E({layout:se,__name:"Index",props:{machines:{},options:{}},setup(w){const V=w,{tenant:o}=Z(),h=x(()=>route().params),$=y({search:h.value.search,entries:h.value.entries||"10"}),g=y({create:{dialogIsOpen:!1}}),k={placeholder:"Search name..."},D=[{title:"Dashboard",href:route("dashboard",{tenant:(o==null?void 0:o.id)||""})},{title:"Machines",href:route("machines.index",{tenant:(o==null?void 0:o.id)||""})}],N=a=>F.visit(route("machines.index",{...G(a),tenant:(o==null?void 0:o.id)||""})),S={id:!1,description:!1},I=[{accessorKey:"actions",header:()=>i("div",null,"Actions"),cell:({row:a})=>{const s=a.original;return i("div",{class:"flex items-center gap-2"},[i(b,{text:"Edit"},()=>i(j,{href:route("machines.edit",{tenant:(o==null?void 0:o.id)||"",machine:s.id}),asChild:!0},()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full"},()=>i(L,{class:"size-3"})))),i(W,{title:`Delete ${s.name}`,route:route("machines.destroy",{tenant:(o==null?void 0:o.id)||"",machine:s.id}),asChild:!1},()=>i(b,{text:"Delete"},()=>i(v,{class:"h-auto size-6 cursor-pointer rounded-full",variant:"destructive"},()=>i(J,{class:"size-3"}))))])}},{accessorKey:"is_active",header:()=>i("div",null,"Active"),cell:({row:a})=>{const{is_active:s,is_active_display:l}=a.original;return i(Q,{variant:s?"default":"destructive"},()=>l)}},{accessorKey:"id",header:()=>i("div",null,"Id"),cell:({row:a})=>i("div",null,a.getValue("id"))},{accessorKey:"name",header:()=>i("div",null,"Name"),cell:({row:a})=>i("div",null,a.getValue("name"))},{accessorKey:"code",header:()=>i("div",null,"Code"),cell:({row:a})=>i("div",null,a.getValue("code"))},{accessorKey:"description",header:()=>i("div",null,"Description"),cell:({row:a})=>i("div",null,a.getValue("description"))}],K=x(()=>{var a;return(a=V.options.statuses.find(s=>t.is_active?s.value:!s.value))==null?void 0:a.name}),t=O({name:"",code:"",description:"",is_active:!0}),B=()=>t.post(route("machines.store",{tenant:(o==null?void 0:o.id)||""}),{onSuccess:()=>{t.reset(),g.create.dialogIsOpen=!1}});return U(()=>t.name,a=>{t.code=te(a)}),(a,s)=>(m(),u(P,null,[r(e(z),{title:"Machines"}),r(ee,{breadcrumbs:D},{default:d(()=>[n("div",ae,[n("div",ie,[n("div",oe,[r(e(A),{title:"Create Machine",open:g.create.dialogIsOpen,"onUpdate:open":s[4]||(s[4]=l=>g.create.dialogIsOpen=l)},{trigger:d(()=>[r(e(v),{class:"cursor-pointer"},{default:d(()=>s[5]||(s[5]=[c("Create")])),_:1,__:[5]})]),default:d(()=>[n("form",{onSubmit:M(B,["prevent"]),class:"space-y-4"},[n("div",re,[r(e(f),null,{default:d(()=>s[6]||(s[6]=[c("Name")])),_:1,__:[6]}),r(e(C),{type:"text",placeholder:"Enter Name","model-value":e(t).name,"onUpdate:modelValue":s[0]||(s[0]=l=>e(t).name=l)},null,8,["model-value"]),e(t).errors.name?(m(),u("p",le,_(e(t).errors.name),1)):p("",!0)]),n("div",ne,[r(e(f),null,{default:d(()=>s[7]||(s[7]=[c("Code")])),_:1,__:[7]}),r(e(C),{type:"text",placeholder:"Enter Code","model-value":e(t).code,"onUpdate:modelValue":s[1]||(s[1]=l=>e(t).code=l)},null,8,["model-value"]),e(t).errors.code?(m(),u("p",de,_(e(t).errors.code),1)):p("",!0)]),n("div",ce,[r(e(f),null,{default:d(()=>s[8]||(s[8]=[c("Description")])),_:1,__:[8]}),r(e(Y),{placeholder:"Enter Description","model-value":e(t).description,"onUpdate:modelValue":s[2]||(s[2]=l=>e(t).description=l)},null,8,["model-value"]),e(t).errors.description?(m(),u("p",me,_(e(t).errors.description),1)):p("",!0)]),n("div",ue,[r(e(f),{class:"mb-1"},{default:d(()=>s[9]||(s[9]=[c("Status")])),_:1,__:[9]}),n("div",pe,[r(e(R),{class:"cursor-pointer","model-value":e(t).is_active,"onUpdate:modelValue":s[3]||(s[3]=l=>e(t).is_active=l)},null,8,["model-value"]),r(e(f),null,{default:d(()=>[c(_(K.value),1)]),_:1})]),e(t).errors.is_active?(m(),u("p",_e,_(e(t).errors.is_active),1)):p("",!0)]),n("div",fe,[r(e(v),{type:"submit",class:"cursor-pointer",disabled:e(t).processing},{default:d(()=>[e(t).processing?(m(),T(e(X),{key:0,class:"animate-spin"})):p("",!0),s[10]||(s[10]=c(" Create "))]),_:1,__:[10]},8,["disabled"])])],32)]),_:1},8,["open"])]),n("div",null,[r(e(q),{columns:I,"paginate-data":a.machines,"column-visibility":S,filter:$,"entry-options":e(H),"search-config":k,onFilterChange:N},null,8,["paginate-data","filter","entry-options"])])])])]),_:1})],64))}});export{Te as default};
