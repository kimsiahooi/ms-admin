import{d as b,c as h,x as k,a as p,o as d,e as i,u as e,g as w,w as l,b as a,f as V,i as m,h as n,t as _,q as $,F as C}from"./app-DLF9ENt6.js";import{_ as B}from"./Select.vue_vue_type_script_setup_true_lang-G2Ij4qMo.js";import{_ as E}from"./index-Dgon1quf.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-B65uer2a.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-B8-UAsF-.js";import{_ as S,L as U}from"./Switch.vue_vue_type_script_setup_true_lang-bRKm5iUr.js";import{u as D,_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-6_eINdig.js";import{_ as F}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-Cjp6B7k7.js";import"./RovingFocusGroup-CGRD81UO.js";import"./useForwardExpose-BB69YxuR.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Bff7cFfc.js";import"./check-iUSvw4j_.js";import"./useFormControl-D2i4wKpN.js";import"./VisuallyHiddenInput-DQgduykt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DhaSU889.js";import"./index-D8_8r1Of.js";const L={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},M={class:"space-y-3"},P={class:"grid w-full items-center gap-1.5"},T={key:0,class:"text-destructive"},q={class:"grid w-full items-center gap-1.5"},j={key:0,class:"text-destructive"},z={class:"grid w-full items-center gap-1.5"},G={class:"flex items-center space-x-2"},H={key:0,class:"text-destructive"},I={class:"flex gap-2"},le=b({layout:F,__name:"Edit",props:{product:{},price:{},options:{}},setup(v){const o=v,{tenant:s}=D(),y=[{title:"Dashboard",href:route("dashboard",{tenant:(s==null?void 0:s.id)||""})},{title:"Products",href:route("products.index",{tenant:(s==null?void 0:s.id)||""})},{title:o.product.name,href:"#"},{title:"Prices",href:route("products.prices.index",{tenant:(s==null?void 0:s.id)||"",product:o.product.id})},{title:o.price.currency,href:"#"},{title:"Edit",href:route("products.prices.edit",{tenant:(s==null?void 0:s.id)||"",product:o.product.id,price:o.price.id})}],g=h(()=>{var u;return(u=o.options.statuses.find(t=>r.is_active?t.value:!t.value))==null?void 0:u.name}),r=k({currency:o.price.currency,amount:+o.price.amount,is_active:o.price.is_active}),x=()=>r.put(route("products.prices.update",{tenant:(s==null?void 0:s.id)||"",product:o.product.id,price:o.price.id}));return(u,t)=>(d(),p(C,null,[i(e(w),{title:u.price.currency},null,8,["title"]),i(A,{breadcrumbs:y},{default:l(()=>[a("div",L,[a("div",M,[a("form",{onSubmit:V(x,["prevent"]),class:"space-y-4"},[a("div",P,[i(e(f),null,{default:l(()=>t[3]||(t[3]=[n("Currency")])),_:1,__:[3]}),i(e(B),{options:u.options.currencies,placeholder:"Select Currency","model-value":e(r).currency,"onUpdate:modelValue":t[0]||(t[0]=c=>e(r).currency=c),"trigger-class":"w-full"},null,8,["options","model-value"]),e(r).errors.currency?(d(),p("p",T,_(e(r).errors.currency),1)):m("",!0)]),a("div",q,[i(e(f),null,{default:l(()=>t[4]||(t[4]=[n("Amount")])),_:1,__:[4]}),i(e(N),{type:"number",placeholder:"Enter Amount","model-value":e(r).amount,"onUpdate:modelValue":t[1]||(t[1]=c=>e(r).amount=c),"model-valueModifiers":{number:!0},step:".01",min:"0"},null,8,["model-value"]),e(r).errors.amount?(d(),p("p",j,_(e(r).errors.amount),1)):m("",!0)]),a("div",z,[i(e(f),{class:"mb-1"},{default:l(()=>t[5]||(t[5]=[n("Status")])),_:1,__:[5]}),a("div",G,[i(e(S),{class:"cursor-pointer","model-value":e(r).is_active,"onUpdate:modelValue":t[2]||(t[2]=c=>e(r).is_active=c)},null,8,["model-value"]),i(e(f),null,{default:l(()=>[n(_(g.value),1)]),_:1})]),e(r).errors.is_active?(d(),p("p",H,_(e(r).errors.is_active),1)):m("",!0)]),a("div",I,[i(e(E),{type:"submit",class:"cursor-pointer",disabled:e(r).processing},{default:l(()=>[e(r).processing?(d(),$(e(U),{key:0,class:"animate-spin"})):m("",!0),t[6]||(t[6]=n(" Update "))]),_:1,__:[6]},8,["disabled"])])],32)])])]),_:1})],64))}});export{le as default};
