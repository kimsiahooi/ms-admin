import{_ as b,a as V,b as S}from"./StatusSwitch.vue_vue_type_script_setup_true_lang-CufIybu3.js";import{_ as $,a as x,b as K,e as C,p as D,c as f,P as N,d as T,T as B,u as k}from"./pickBy-Cq6aSNog.js";import{_ as w}from"./index-B4eLT_yO.js";import{L as R}from"./index-Bs8f764w.js";import{d as U,c as _,x as A,a as F,o as I,e as l,u as o,g as P,w as u,b as c,W as E,S as L,q as W,k as e,l as j,F as q}from"./app-CeqT5j6d.js";import{u as O,_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-CmYk630a.js";import{_ as G}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-C1gYns_d.js";import"./useForwardExpose-tI2Irncb.js";import"./Label.vue_vue_type_script_setup_true_lang-Cmhej21L.js";import"./Select.vue_vue_type_script_setup_true_lang-hitWXLG-.js";import"./RovingFocusGroup-Di5W4w40.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-BGnjMs66.js";import"./check-Wsy1iXu8.js";import"./useFormControl-2_AIVmaZ.js";import"./nullish-CHIgUVhi.js";import"./chevron-down-BRS8lO_m.js";import"./Switch.vue_vue_type_script_setup_true_lang-B8Qy0qyp.js";import"./VisuallyHiddenInput-BTWUmTK7.js";import"./Input.vue_vue_type_script_setup_true_lang-jQHQGABn.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-BfdbA4Kt.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CD7F95B0.js";const H={class:"space-y-3"},J={class:"flex flex-wrap items-center justify-end gap-2"},he=U({layout:G,__name:"Index",props:{routes:{},options:{}},setup(M){const{tenant:t}=O(),{formatDateTime:m}=k(),d=_(()=>route().params),r=A({search:d.value.search,entries:d.value.entries||"10",status:d.value.status}),v=_(()=>[{title:"Dashboard",href:route("dashboard",{tenant:(t==null?void 0:t.id)||""})},{title:"Routes",href:route("routes.index",{tenant:(t==null?void 0:t.id)||""})}]),n=()=>E.visit(route("routes.index",{...D(r.data()),tenant:(t==null?void 0:t.id)||""}),{preserveScroll:!0,preserveState:!0}),h=()=>{r.reset(),n()},g=[{accessorKey:"actions",header:()=>e("div",null,"Actions"),cell:({row:a})=>{const s=a.original;return e("div",{class:"flex items-center gap-2"},[e(V,{value:s.status.switch,method:"put",href:route("routes.toggleStatus",{tenant:(t==null?void 0:t.id)||"",route:s.id})}),e(f,{text:"Edit",href:route("routes.edit",{tenant:(t==null?void 0:t.id)||"",route:s.id}),icon:N}),e(T,{title:`Delete ${s.name}`,route:route("routes.destroy",{tenant:(t==null?void 0:t.id)||"",route:s.id}),asChild:!1},()=>e(f,{variant:"destructive",text:"Delete",icon:B}))])}},{accessorKey:"status",header:()=>e("div",null,"Status"),cell:({row:a})=>{const{status:s}=a.original;return e(S,{statusBadge:s.badge})}},{accessorKey:"id",header:()=>e("div",null,"Id"),cell:({row:a})=>e("div",null,a.getValue("id"))},{accessorKey:"name",header:()=>e("div",null,"Name"),cell:({row:a})=>e("div",null,a.getValue("name"))},{accessorKey:"code",header:()=>e("div",null,"Code"),cell:({row:a})=>e("div",null,a.getValue("code"))},{accessorKey:"description",header:()=>e("div",null,"Description"),cell:({row:a})=>e("div",null,a.getValue("description"))},{accessorKey:"created_at",header:()=>e("div",null,"Created At"),cell:({row:a})=>e("div",null,m(a.getValue("created_at"))||"")},{accessorKey:"updated_at",header:()=>e("div",null,"Updated At"),cell:({row:a})=>e("div",null,m(a.getValue("updated_at"))||"")}],y={id:!1,description:!1};return(a,s)=>(I(),F(q,null,[l(o(P),{title:"Routes"}),l(z,{breadcrumbs:v.value},{default:u(()=>[l(o(R),null,{default:u(()=>{var p;return[c("div",H,[l(o($),{onSearch:n,onReset:h},{default:u(()=>[l(o(x),{label:"Name",placeholder:"Search ID, Name, Code","model-value":o(r).search,"onUpdate:modelValue":s[0]||(s[0]=i=>o(r).search=i)},null,8,["model-value"]),l(o(b),{label:"Status",placeholder:"Select Status",options:a.options.select.statuses,multiple:"","model-value":o(r).status,"onUpdate:modelValue":s[1]||(s[1]=i=>o(r).status=i)},null,8,["options","model-value"])]),_:1}),c("div",J,[l(o(L),{href:a.route("routes.create",{tenant:((p=o(t))==null?void 0:p.id)||""}),"as-child":""},{default:u(()=>[l(o(w),{class:"cursor-pointer"},{default:u(()=>s[3]||(s[3]=[W("Create")])),_:1,__:[3]})]),_:1},8,["href"])]),c("div",null,[l(o(K),{"model-value":o(r),"onUpdate:modelValue":s[2]||(s[2]=i=>j(r)?r.value=i:null),columns:g,"paginate-data":a.routes,"column-visibility":y,"entry-options":o(C),onSearch:n},null,8,["model-value","paginate-data","entry-options"])])])]}),_:1})]),_:1},8,["breadcrumbs"])],64))}});export{he as default};
