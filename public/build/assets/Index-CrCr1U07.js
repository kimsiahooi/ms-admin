import{_ as S,a as $,b as x}from"./StatusSwitch.vue_vue_type_script_setup_true_lang-B6SeRpgM.js";import{_ as K,a as B,b as C,e as D,p as N,c as v,P as T,d as P,T as w,u as U}from"./pickBy-gn_MgXOO.js";import{_ as k}from"./index-Ba1IaxK7.js";import{L as A}from"./index-D_8GYqd1.js";import{d as F,c as I,r as E,a as L,o as W,e as r,u as o,g as j,w as u,b as n,W as _,S as q,q as O,l as t,F as R}from"./app-a7hUe1k2.js";import{u as z,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-CWHhop4g.js";import{_ as H}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-B5OEuhhA.js";import"./useForwardExpose-CMf24qRA.js";import"./Label.vue_vue_type_script_setup_true_lang-CoVgtdNw.js";import"./Select.vue_vue_type_script_setup_true_lang-DrAgaA7n.js";import"./RovingFocusGroup-D3VJg7SV.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-DzYpWIo_.js";import"./check-CVFmgC14.js";import"./useFormControl-Bld6-2ak.js";import"./Switch.vue_vue_type_script_setup_true_lang-CFxb5mXA.js";import"./VisuallyHiddenInput-xtrcVa52.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-BfVuDqlx.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-D9OuKqzk.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DDj-hmLo.js";const J={class:"space-y-3"},M={class:"flex flex-wrap items-center justify-end gap-2"},ve=F({layout:H,__name:"Index",props:{product:{},boms:{},options:{}},setup(h){const l=h,{tenant:e}=z(),{formatDateTime:m}=U(),c=I(()=>route().params),d=E({search:c.value.search,entries:c.value.entries||"10",status:c.value.status}),b=[{title:"Dashboard",href:route("dashboard",{tenant:(e==null?void 0:e.id)||""})},{title:"Products",href:route("products.index",{tenant:(e==null?void 0:e.id)||""})},{title:l.product.name,href:"#"},{title:"Boms",href:route("products.boms.index",{tenant:(e==null?void 0:e.id)||"",product:l.product.id})}],p=()=>_.visit(route("products.boms.index",{...N(d.value),tenant:(e==null?void 0:e.id)||"",product:l.product.id}),{preserveScroll:!0,preserveState:!0}),g=()=>_.visit(route("products.boms.index",{tenant:(e==null?void 0:e.id)||"",product:l.product.id})),y={id:!1,description:!1},V=[{accessorKey:"actions",header:()=>t("div",null,"Actions"),cell:({row:a})=>{const s=a.original;return t("div",{class:"flex items-center gap-2"},[t($,{value:s.status.switch,method:"put",href:route("products.boms.toggleStatus",{tenant:(e==null?void 0:e.id)||"",product:l.product.id,bom:s.id})}),t(v,{text:"Edit",href:route("products.boms.edit",{tenant:(e==null?void 0:e.id)||"",product:l.product.id,bom:s.id}),icon:T}),t(P,{title:`Delete ${s.name}`,route:route("products.boms.destroy",{tenant:(e==null?void 0:e.id)||"",product:l.product.id,bom:s.id}),asChild:!1},()=>t(v,{variant:"destructive",text:"Delete",icon:w}))])}},{accessorKey:"status",header:()=>t("div",null,"Status"),cell:({row:a})=>{const{status:s}=a.original;return t(x,{statusBadge:s.badge})}},{accessorKey:"id",header:()=>t("div",null,"Id"),cell:({row:a})=>t("div",null,a.getValue("id"))},{accessorKey:"name",header:()=>t("div",null,"Name"),cell:({row:a})=>t("div",null,a.getValue("name"))},{accessorKey:"code",header:()=>t("div",null,"Code"),cell:({row:a})=>t("div",null,a.getValue("code"))},{accessorKey:"description",header:()=>t("div",null,"Description"),cell:({row:a})=>t("div",null,a.getValue("description"))},{accessorKey:"created_at",header:()=>t("div",null,"Created At"),cell:({row:a})=>t("div",null,m(a.getValue("created_at"))||"")},{accessorKey:"updated_at",header:()=>t("div",null,"Updated At"),cell:({row:a})=>t("div",null,m(a.getValue("updated_at"))||"")}];return(a,s)=>(W(),L(R,null,[r(o(j),{title:"Product Boms"}),r(G,{breadcrumbs:b},{default:u(()=>[r(o(A),null,{default:u(()=>{var f;return[n("div",J,[r(o(K),{onSearch:p,onReset:g},{default:u(()=>[r(o(B),{label:"Name",placeholder:"Search ID, Name, Code","model-value":d.value.search,"onUpdate:modelValue":s[0]||(s[0]=i=>d.value.search=i)},null,8,["model-value"]),r(o(S),{label:"Status",placeholder:"Select Status",options:a.options.statuses,multiple:"","model-value":d.value.status,"onUpdate:modelValue":s[1]||(s[1]=i=>d.value.status=i)},null,8,["options","model-value"])]),_:1}),n("div",M,[r(o(q),{href:a.route("products.boms.create",{tenant:((f=o(e))==null?void 0:f.id)||"",product:l.product.id}),"as-child":""},{default:u(()=>[r(o(k),{class:"cursor-pointer"},{default:u(()=>s[3]||(s[3]=[O("Create")])),_:1,__:[3]})]),_:1},8,["href"])]),n("div",null,[r(o(C),{"model-value":d.value,"onUpdate:modelValue":s[2]||(s[2]=i=>d.value=i),columns:V,"paginate-data":a.boms,"column-visibility":y,"entry-options":o(D),onSearch:p},null,8,["model-value","paginate-data","entry-options"])])])]}),_:1})]),_:1})],64))}});export{ve as default};
