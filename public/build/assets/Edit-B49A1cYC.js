import{d as w,c as k,x as V,j as $,m as C,a as p,o as c,e as i,u as e,g as B,w as d,b as u,f as E,i as m,h as n,t as f,q as N,F as S}from"./app-KSbgUuIU.js";import{_ as U}from"./Select.vue_vue_type_script_setup_true_lang-BILVJfgr.js";import{_ as D}from"./index-CYBbWwLu.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-B4lqTRAY.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BQ1of87h.js";import{_ as F,L}from"./Switch.vue_vue_type_script_setup_true_lang-m9ul1BKW.js";import{u as M,_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-AZ2PnkQR.js";import{_ as T}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CmtaUbgQ.js";import"./RovingFocusGroup-CJwQLeDY.js";import"./useForwardExpose-BCGP6J9B.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B0BTTmgX.js";import"./check-DTeDlD4X.js";import"./useFormControl-AaFHe1Yj.js";import"./VisuallyHiddenInput-CPNnyZE-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CRRCczxj.js";import"./index-T6uICwUp.js";const j={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},q={class:"space-y-3"},z={class:"grid w-full items-center gap-1.5"},G={key:0,class:"text-destructive"},H={class:"grid w-full items-center gap-1.5"},I={key:0,class:"text-destructive"},J={class:"grid w-full items-center gap-1.5"},K={class:"flex items-center space-x-2"},O={key:0,class:"text-destructive"},Q={class:"flex gap-2"},ne=w({layout:T,__name:"Edit",props:{product:{},price:{},options:{}},setup(g){const o=g,{tenant:r}=M(),x=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Products",href:route("products.index",{tenant:(r==null?void 0:r.id)||""})},{title:o.product.name,href:"#"},{title:"Prices",href:route("products.prices.index",{tenant:(r==null?void 0:r.id)||"",product:o.product.id})},{title:o.price.currency,href:"#"},{title:"Edit",href:route("products.prices.edit",{tenant:(r==null?void 0:r.id)||"",product:o.product.id,price:o.price.id})}],b=k(()=>{var l;return(l=o.options.statuses.find(t=>s.status?t.value:!t.value))==null?void 0:l.name}),s=V({currency:o.price.currency,amount:+o.price.amount,status:o.price.status}),v=$({status:!!s.status}),h=()=>s.put(route("products.prices.update",{tenant:(r==null?void 0:r.id)||"",product:o.product.id,price:o.price.id}));return C(()=>v.status,l=>{var a;const t=(a=o.options.statuses.find(y=>l?y.value===1:y.value===0))==null?void 0:a.value;t!==void 0&&(s.status=t)}),(l,t)=>(c(),p(S,null,[i(e(B),{title:l.price.currency},null,8,["title"]),i(P,{breadcrumbs:x},{default:d(()=>[u("div",j,[u("div",q,[u("form",{onSubmit:E(h,["prevent"]),class:"space-y-4"},[u("div",z,[i(e(_),null,{default:d(()=>t[3]||(t[3]=[n("Currency")])),_:1,__:[3]}),i(e(U),{options:l.options.currencies,placeholder:"Select Currency","model-value":e(s).currency,"onUpdate:modelValue":t[0]||(t[0]=a=>e(s).currency=a),"trigger-class":"w-full"},null,8,["options","model-value"]),e(s).errors.currency?(c(),p("p",G,f(e(s).errors.currency),1)):m("",!0)]),u("div",H,[i(e(_),null,{default:d(()=>t[4]||(t[4]=[n("Amount")])),_:1,__:[4]}),i(e(A),{type:"number",placeholder:"Enter Amount","model-value":e(s).amount,"onUpdate:modelValue":t[1]||(t[1]=a=>e(s).amount=a),"model-valueModifiers":{number:!0},step:".01",min:"0"},null,8,["model-value"]),e(s).errors.amount?(c(),p("p",I,f(e(s).errors.amount),1)):m("",!0)]),u("div",J,[i(e(_),{class:"mb-1"},{default:d(()=>t[5]||(t[5]=[n("Status")])),_:1,__:[5]}),u("div",K,[i(e(F),{class:"cursor-pointer","model-value":v.status,"onUpdate:modelValue":t[2]||(t[2]=a=>v.status=a)},null,8,["model-value"]),i(e(_),null,{default:d(()=>[n(f(b.value),1)]),_:1})]),e(s).errors.status?(c(),p("p",O,f(e(s).errors.status),1)):m("",!0)]),u("div",Q,[i(e(D),{type:"submit",class:"cursor-pointer",disabled:e(s).processing},{default:d(()=>[e(s).processing?(c(),N(e(L),{key:0,class:"animate-spin"})):m("",!0),t[6]||(t[6]=n(" Update "))]),_:1,__:[6]},8,["disabled"])])],32)])])]),_:1})],64))}});export{ne as default};
