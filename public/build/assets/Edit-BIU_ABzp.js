import{d as w,c as V,x as $,j as E,m as N,a as c,o as m,e as a,u as e,g as C,w as n,b as l,f as D,i as p,h as u,t as f,q as U,F as B}from"./app-KSbgUuIU.js";import{_ as S}from"./index-CYBbWwLu.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-B4lqTRAY.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BQ1of87h.js";import{_ as F,L}from"./Switch.vue_vue_type_script_setup_true_lang-m9ul1BKW.js";import{_ as M}from"./Textarea.vue_vue_type_script_setup_true_lang-ybfpBnld.js";import{u as T,_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-AZ2PnkQR.js";import{_ as q}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-CmtaUbgQ.js";import"./useForwardExpose-BCGP6J9B.js";import"./RovingFocusGroup-CJwQLeDY.js";import"./useFormControl-AaFHe1Yj.js";import"./VisuallyHiddenInput-CPNnyZE-.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-B0BTTmgX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CRRCczxj.js";import"./index-T6uICwUp.js";const z={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},A={class:"space-y-3"},G={class:"grid w-full items-center gap-1.5"},H={key:0,class:"text-destructive"},I={class:"grid w-full items-center gap-1.5"},J={key:0,class:"text-destructive"},K={class:"grid w-full items-center gap-1.5"},O={key:0,class:"text-destructive"},P={class:"grid w-full items-center gap-1.5"},Q={class:"flex items-center space-x-2"},R={key:0,class:"text-destructive"},ue=w({layout:q,__name:"Edit",props:{machine:{},options:{}},setup(g){const r=g,{tenant:o}=T(),y=[{title:"Dashboard",href:route("dashboard",{tenant:(o==null?void 0:o.id)||""})},{title:"Machines",href:route("machines.index",{tenant:(o==null?void 0:o.id)||""})},{title:r.machine.name,href:"#"},{title:"Edit",href:route("machines.edit",{tenant:(o==null?void 0:o.id)||"",machine:r.machine.id})}],b=V(()=>{var d;return(d=r.options.statuses.find(t=>s.status?t.value:!t.value))==null?void 0:d.name}),s=$({name:r.machine.name,code:r.machine.code,description:r.machine.description||"",status:r.machine.status}),v=E({status:!!s.status}),k=()=>s.put(route("machines.update",{tenant:(o==null?void 0:o.id)||"",machine:r.machine.id}));return N(()=>v.status,d=>{var i;const t=(i=r.options.statuses.find(h=>d?h.value===1:h.value===0))==null?void 0:i.value;t!==void 0&&(s.status=t)}),(d,t)=>(m(),c(B,null,[a(e(C),{title:d.machine.name},null,8,["title"]),a(j,{breadcrumbs:y},{default:n(()=>[l("div",z,[l("div",A,[l("form",{onSubmit:D(k,["prevent"]),class:"space-y-4"},[l("div",G,[a(e(_),null,{default:n(()=>t[4]||(t[4]=[u("Name")])),_:1,__:[4]}),a(e(x),{type:"text",placeholder:"Enter Name","model-value":e(s).name,"onUpdate:modelValue":t[0]||(t[0]=i=>e(s).name=i)},null,8,["model-value"]),e(s).errors.name?(m(),c("p",H,f(e(s).errors.name),1)):p("",!0)]),l("div",I,[a(e(_),null,{default:n(()=>t[5]||(t[5]=[u("Code")])),_:1,__:[5]}),a(e(x),{type:"text",placeholder:"Enter Code","model-value":e(s).code,"onUpdate:modelValue":t[1]||(t[1]=i=>e(s).code=i)},null,8,["model-value"]),e(s).errors.code?(m(),c("p",J,f(e(s).errors.code),1)):p("",!0)]),l("div",K,[a(e(_),null,{default:n(()=>t[6]||(t[6]=[u("Description")])),_:1,__:[6]}),a(e(M),{placeholder:"Enter Description","model-value":e(s).description,"onUpdate:modelValue":t[2]||(t[2]=i=>e(s).description=i)},null,8,["model-value"]),e(s).errors.description?(m(),c("p",O,f(e(s).errors.description),1)):p("",!0)]),l("div",P,[a(e(_),{class:"mb-1"},{default:n(()=>t[7]||(t[7]=[u("Status")])),_:1,__:[7]}),l("div",Q,[a(e(F),{class:"cursor-pointer","model-value":v.status,"onUpdate:modelValue":t[3]||(t[3]=i=>v.status=i)},null,8,["model-value"]),a(e(_),null,{default:n(()=>[u(f(b.value),1)]),_:1})]),e(s).errors.status?(m(),c("p",R,f(e(s).errors.status),1)):p("",!0)]),l("div",null,[a(e(S),{type:"submit",class:"cursor-pointer",disabled:e(s).processing},{default:n(()=>[e(s).processing?(m(),U(e(L),{key:0,class:"animate-spin"})):p("",!0),t[8]||(t[8]=u(" Update "))]),_:1,__:[8]},8,["disabled"])])],32)])])]),_:1})],64))}});export{ue as default};
