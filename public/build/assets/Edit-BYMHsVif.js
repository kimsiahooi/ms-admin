import{d as h,c as _,x as y,r as V,f as g,a as $,o as C,e as n,u as e,g as E,w as d,b as U,h as A,F as w}from"./app-D7AVAIhk.js";import{_ as x}from"./Card.vue_vue_type_script_setup_true_lang-QkK2AeRu.js";import{L as B}from"./index-D8VmvGY_.js";import{_ as u,a as I}from"./FormInput.vue_vue_type_script_setup_true_lang-B9U5b3Iw.js";import{_ as N}from"./FormSwitch.vue_vue_type_script_setup_true_lang-CiRwrchL.js";import{_ as p}from"./FormTextarea.vue_vue_type_script_setup_true_lang-BtZuudch.js";import{u as T,_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-D8q9Y8Ug.js";import{_ as k}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-DYsD14NS.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-ChEDlu09.js";import"./index-ObBAPkBY.js";import"./Label.vue_vue_type_script_setup_true_lang-BDtNivf6.js";import"./useForwardExpose-_ZfyhJ9w.js";import"./RovingFocusGroup-DZVzFqmi.js";import"./useFormControl-BL3wKghq.js";import"./VisuallyHiddenInput-BnotZ_Kf.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-M0fp3WkH.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CbIED4YH.js";const Y=h({layout:k,__name:"Edit",props:{company:{},branch:{},options:{}},setup(c){const s=c,{tenant:r}=T(),f=[{title:"Dashboard",href:route("dashboard",{tenant:(r==null?void 0:r.id)||""})},{title:"Companies",href:route("companies.index",{tenant:(r==null?void 0:r.id)||""})},{title:s.company.name,href:"#"},{title:"Branches",href:route("companies.branches.index",{tenant:(r==null?void 0:r.id)||"",company:s.company.id})},{title:"Edit",href:route("companies.branches.edit",{tenant:(r==null?void 0:r.id)||"",company:s.company.id,branch:s.branch.id})}],b=_(()=>{var i;return((i=s.options.statuses.find(o=>o.value===a.status))==null?void 0:i.name)??"Active"}),a=y({name:s.branch.name,code:s.branch.code,description:s.branch.description||"",address:s.branch.address,status:s.branch.status}),l=V({status:a.status==="ACTIVE"}),v=()=>a.put(route("companies.branches.update",{tenant:(r==null?void 0:r.id)||"",company:s.company.id,branch:s.branch.id}));return g(()=>l.status,i=>{var t;const o=(t=s.options.statuses.find(m=>i?m.value==="ACTIVE":m.value==="INACTIVE"))==null?void 0:t.value;o!==void 0&&(a.status=o)}),(i,o)=>(C(),$(w,null,[n(e(E),{title:i.branch.name},null,8,["title"]),n(D,{breadcrumbs:f},{default:d(()=>[n(e(B),null,{default:d(()=>[U("form",{onSubmit:A(v,["prevent"])},[n(e(x),{title:`Edit ${i.branch.name}`},{default:d(()=>[n(e(u),{label:"Name",error:e(a).errors.name,"model-value":e(a).name,"onUpdate:modelValue":o[0]||(o[0]=t=>e(a).name=t)},null,8,["error","model-value"]),n(e(u),{label:"Code",error:e(a).errors.code,"model-value":e(a).code,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).code=t)},null,8,["error","model-value"]),n(e(p),{label:"Description",error:e(a).errors.description,"model-value":e(a).description,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).description=t)},null,8,["error","model-value"]),n(e(p),{label:"Address",error:e(a).errors.address,"model-value":e(a).address,"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).address=t)},null,8,["error","model-value"]),n(e(N),{label:b.value,error:e(a).errors.status,"model-value":l.status,"onUpdate:modelValue":o[4]||(o[4]=t=>l.status=t)},null,8,["label","error","model-value"]),n(e(I),{type:"submit",disabled:e(a).processing,label:"Update",loading:e(a).processing},null,8,["disabled","loading"])]),_:1},8,["title"])],32)]),_:1})]),_:1})],64))}});export{Y as default};
