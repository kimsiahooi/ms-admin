import{c as A,_ as S}from"./index-Ba1IaxK7.js";import{_ as w}from"./FormInput.vue_vue_type_script_setup_true_lang-Be6wvqRC.js";import{_ as V}from"./FormSelect.vue_vue_type_script_setup_true_lang-7JiwgOK1.js";import{d as N,D as b,E as O,r as R,c as q,j as B,k as v,a as C,o as E,b as p,e as s,u as c,w as M,i as L}from"./app-a7hUe1k2.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=A("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=A("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function f(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}let _;const j=new Uint8Array(16);function z(){if(!_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_=crypto.getRandomValues.bind(crypto)}return _(j)}const H=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T={randomUUID:H};function Q(e,t,i){var m;if(T.randomUUID&&!t&&!e)return T.randomUUID();e=e||{};const o=e.random??((m=e.rng)==null?void 0:m.call(e))??z();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){if(i=i||0,i<0||i+16>t.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let d=0;d<16;++d)t[i+d]=o[d];return t}return f(o)}const F=()=>({uuid:Q}),G={class:"flex flex-col gap-2 md:flex-row"},J={class:"flex-1"},K={class:"flex-1"},W={class:"flex-1"},X={key:0},oe=N({__name:"MaterialSelect",props:b({materialOptions:{},unitTypeOptions:{},totalSelected:{},currIndex:{}},{modelValue:{},modelModifiers:{}}),emits:b(["remove"],["update:modelValue"]),setup(e,{emit:t}){var I,h,U,g,k,x;const i=e,o=O(e,"modelValue"),m=t,{uuid:d}=F(),y=R(((h=(I=o.value)==null?void 0:I.data)==null?void 0:h.id)||""),$=q(()=>i.materialOptions.map(n=>({...n,value:n.value.id}))),u=B({key:((U=o.value)==null?void 0:U.key)||d(),data:((g=o.value)==null?void 0:g.data)||null,quantity:((k=o.value)==null?void 0:k.quantity)||"",unit_type:((x=o.value)==null?void 0:x.unit_type)||""}),D=()=>{m("remove",u.key)};return v(y,n=>{var l;n?u.data=((l=i.materialOptions.find(r=>r.value.id===n))==null?void 0:l.value)||null:u.data=null}),v(()=>u.data,n=>{n!=null&&n.unit_type?u.unit_type=n.unit_type:u.unit_type=""},{deep:!0}),v(u,n=>{o.value&&(o.value=n)},{deep:!0}),(n,l)=>(E(),C("div",null,[p("div",G,[p("div",J,[s(c(V),{label:"Material",options:$.value,"model-value":y.value,"onUpdate:modelValue":l[0]||(l[0]=r=>y.value=r),"error-key":`materials.${n.currIndex}.id`},null,8,["options","model-value","error-key"])]),p("div",K,[s(c(V),{label:"Unit Type",options:n.unitTypeOptions,"model-value":u.unit_type,"onUpdate:modelValue":l[1]||(l[1]=r=>u.unit_type=r),"error-key":`materials.${n.currIndex}.unit_type`},null,8,["options","model-value","error-key"])]),p("div",W,[s(c(w),{label:"Quantity",type:"number","model-value":u.quantity,"onUpdate:modelValue":l[2]||(l[2]=r=>u.quantity=r),min:"0.01",step:".01","error-key":`materials.${n.currIndex}.quantity`},{default:M(()=>[n.totalSelected>1?(E(),C("div",X,[s(c(S),{type:"button",class:"cursor-pointer",size:"icon",variant:"destructive",onClick:D},{default:M(()=>[s(c(P))]),_:1})])):L("",!0)]),_:1},8,["model-value","error-key"])])])]))}});var Y=(e=>(e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e))(Y||{});const ue={ACTIVE:"Active",INACTIVE:"Inactive"};export{ae as P,ue as S,oe as _,Y as a,F as u};
