import{_ as M}from"./index-B4eLT_yO.js";import{_ as $}from"./FormCombobox.vue_vue_type_script_setup_true_lang-kFsoOtq-.js";import"./FormError.vue_vue_type_script_setup_true_lang-CjtA24vv.js";import{_ as N}from"./FormInput.vue_vue_type_script_setup_true_lang-BvsU8Rvg.js";import{_ as O}from"./FormSelect.vue_vue_type_script_setup_true_lang-tBRk7YUf.js";import{u as q,M as U}from"./useUuid-Cc8upzaf.js";import{d as S,b2 as I,bE as B,A as g,c as h,r as j,j as d,a as k,o as C,b as u,e as s,u as r,w as b,i as z}from"./app-CeqT5j6d.js";const L={class:"flex flex-col gap-2 md:flex-row"},Q={class:"flex-1"},D={class:"flex-1"},F={class:"flex-1"},G={key:0},Z=S({__name:"MaterialSelect",props:I({materialOptions:{},unitTypeOptions:{},totalSelected:{},currIndex:{}},{modelValue:{},modelModifiers:{}}),emits:I(["remove"],["update:modelValue"]),setup(i,{emit:T}){var p,c,v,y,f,_;const m=i,o=B(i,"modelValue"),V=T,{uuid:x}=q(),n=g(((c=(p=o.value)==null?void 0:p.data)==null?void 0:c.id)||""),A=h(()=>m.materialOptions.map(e=>({...e,value:e.value.id}))),t=j({key:((v=o.value)==null?void 0:v.key)||x(),data:((y=o.value)==null?void 0:y.data)||null,quantity:((f=o.value)==null?void 0:f.quantity)||"",unit_type:((_=o.value)==null?void 0:_.unit_type)||""}),E=()=>{V("remove",t.key)};return d(n,e=>{var a;e?t.data=((a=m.materialOptions.find(l=>l.value.id===e))==null?void 0:a.value)||null:t.data=null}),d(()=>t.data,e=>{e!=null&&e.unit_type?t.unit_type=e.unit_type:t.unit_type=""},{deep:!0}),d(t,e=>{o.value&&(o.value=e)},{deep:!0}),(e,a)=>(C(),k("div",null,[u("div",L,[u("div",Q,[s(r($),{label:"Material",options:A.value,"model-value":n.value,"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),"error-key":`materials.${e.currIndex}.id`},null,8,["options","model-value","error-key"])]),u("div",D,[s(r(O),{label:"Unit Type",options:e.unitTypeOptions,"model-value":t.unit_type,"onUpdate:modelValue":a[1]||(a[1]=l=>t.unit_type=l),"error-key":`materials.${e.currIndex}.unit_type`},null,8,["options","model-value","error-key"])]),u("div",F,[s(r(N),{label:"Quantity",type:"number","model-value":t.quantity,"onUpdate:modelValue":a[2]||(a[2]=l=>t.quantity=l),step:".01","error-key":`materials.${e.currIndex}.quantity`},{default:b(()=>[e.totalSelected>1?(C(),k("div",G,[s(r(M),{type:"button",class:"cursor-pointer",size:"icon",variant:"destructive",onClick:E},{default:b(()=>[s(r(U))]),_:1})])):z("",!0)]),_:1},8,["model-value","error-key"])])])]))}});var H=(i=>(i.ACTIVE="ACTIVE",i.INACTIVE="INACTIVE",i))(H||{});const w={ACTIVE:"Active",INACTIVE:"Inactive"};export{w as S,Z as _,H as a};
