import{d as v,c as d,x as g,a as S,o as f,e as i,u as r,g as $,w as u,b as U,f as V,h as w,i as y,F as E}from"./app-BgTXa90_.js";import{_ as k}from"./Card.vue_vue_type_script_setup_true_lang-CNAuYvQV.js";import{L as x}from"./index-BvCIcig5.js";import{_ as B}from"./FormError.vue_vue_type_script_setup_true_lang-BVg2IwEG.js";import{_ as C}from"./FormCombobox.vue_vue_type_script_setup_true_lang-C_d6RY7a.js";import{_ as N}from"./FormSwitch.vue_vue_type_script_setup_true_lang-D0NXErWG.js";import{u as D,_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-CdHOQRKV.js";import{_ as F}from"./AppMainLayout.vue_vue_type_script_setup_true_lang-k-gsNc47.js";import{S as I,a as T}from"./index-tNKZbeW-.js";import"./index-gvFlOA9A.js";import"./RovingFocusGroup-Cq5P6bq-.js";import"./useForwardExpose-rU1I-y_0.js";import"./check-DnxLo8EA.js";import"./BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-COVDtZ7L.js";import"./useFormControl-D4E9fVKJ.js";import"./VisuallyHiddenInput-DKmQAXjO.js";import"./chevron-down-53sWXJgT.js";import"./Label.vue_vue_type_script_setup_true_lang-DfAzriwx.js";import"./Switch.vue_vue_type_script_setup_true_lang-C_f7LROW.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-a7lEFZeV.js";const se=v({layout:F,__name:"Edit",props:{plant:{},department:{},user:{},options:{}},setup(c){var m;const t=c,{tenant:e}=D(),_=d(()=>{var a;return[{title:"Dashboard",href:route("dashboard",{tenant:(e==null?void 0:e.id)||""})},{title:"Plants",href:route("plants.index",{tenant:(e==null?void 0:e.id)||""})},{title:t.plant.name,href:"#"},{title:"Departments",href:route("plants.departments.index",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id})},{title:t.department.name,href:"#"},{title:"Users",href:route("plants.departments.users.index",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id,department:t.department.id})},{title:((a=t.user.user)==null?void 0:a.name)??"",href:"#"},{title:"Edit",href:route("plants.departments.users.edit",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id,department:t.department.id,user:t.user.id})}]}),b=d(()=>{var a;return((a=t.options.switch.statuses.find(o=>o.value===s.status))==null?void 0:a.name)??I[T.INACTIVE]}),s=g({user:(m=t.user.user)==null?void 0:m.id,status:t.user.status.switch??void 0}),h=()=>s.put(route("plants.departments.users.update",{tenant:(e==null?void 0:e.id)||"",plant:t.plant.id,department:t.department.id,user:t.user.id}),{preserveScroll:!0,preserveState:!0});return(a,o)=>{var n;return f(),S(E,null,[i(r($),{title:(n=a.user.user)==null?void 0:n.name},null,8,["title"]),i(L,{breadcrumbs:_.value},{default:u(()=>[i(r(x),null,{default:u(()=>{var p;return[U("form",{onSubmit:V(h,["prevent"])},[i(r(k),{title:`Edit ${(p=a.user.user)==null?void 0:p.name}`},{default:u(()=>[i(r(C),{options:a.options.select.users,placeholder:"Select User",label:"User","model-value":r(s).user,"onUpdate:modelValue":o[0]||(o[0]=l=>r(s).user=l),error:r(s).errors.user},null,8,["options","model-value","error"]),r(s).status!==void 0?(f(),w(r(N),{key:0,label:b.value,error:r(s).errors.status,"model-value":r(s).status,"onUpdate:modelValue":o[1]||(o[1]=l=>r(s).status=l)},null,8,["label","error","model-value"])):y("",!0),i(r(B),{type:"submit",disabled:r(s).processing,label:"Update",loading:r(s).processing},null,8,["disabled","loading"])]),_:1},8,["title"])],32)]}),_:1})]),_:1},8,["breadcrumbs"])],64)}}});export{se as default};
