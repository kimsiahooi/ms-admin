import{a as w,_ as C}from"./index-CYBbWwLu.js";import{d as O,l as q,c as V,a as y,i as $,o as v,F as T,v as j,t as B,D as S,E as L,z as N,j as P,m as g,b as _,e as m,u as p,w as z}from"./app-KSbgUuIU.js";import{_ as D}from"./Select.vue_vue_type_script_setup_true_lang-BILVJfgr.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-B4lqTRAY.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=w("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),A={key:0},ie=O({__name:"ErrorMessages",props:{errorKey:{}},setup(e){const t=e,s=q(),n=V(()=>Object.entries(s.props.errors).filter(([u])=>u.startsWith(t.errorKey)).map(([u,i])=>({key:u,message:i})));return(u,i)=>n.value.length?(v(),y("div",A,[(v(!0),y(T,null,j(n.value,c=>(v(),y("p",{key:c.key,class:"text-destructive"},B(c.message),1))),128))])):$("",!0)}}),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function H(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}let h;const Q=new Uint8Array(16);function W(){if(!h){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h=crypto.getRandomValues.bind(crypto)}return h(Q)}const G=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),E={randomUUID:G};function J(e,t,s){var u;if(E.randomUUID&&!t&&!e)return E.randomUUID();e=e||{};const n=e.random??((u=e.rng)==null?void 0:u.call(e))??W();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){if(s=s||0,s<0||s+16>t.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[s+i]=n[i];return t}return H(n)}const X=()=>({uuid:J}),Y={class:"flex items-center gap-2"},Z={class:"flex-1"},ee={class:"flex-1"},te={class:"flex-1"},ne={key:0},re=O({__name:"MaterialSelect",props:S({materialOptions:{},unitTypeOptions:{},totalSelected:{}},{modelValue:{},modelModifiers:{}}),emits:S(["remove"],["update:modelValue"]),setup(e,{emit:t}){var U,k,x,M,b,I;const s=e,n=L(e,"modelValue"),u=t,{uuid:i}=X(),c=N(((k=(U=n.value)==null?void 0:U.data)==null?void 0:k.id)||""),R=V(()=>s.materialOptions.map(o=>({...o,value:o.value.id}))),l=P({key:((x=n.value)==null?void 0:x.key)||i(),data:((M=n.value)==null?void 0:M.data)||null,quantity:((b=n.value)==null?void 0:b.quantity)||"",unit_type:((I=n.value)==null?void 0:I.unit_type)||""}),f=()=>{u("remove",l.key)};return g(c,o=>{var r;o?l.data=((r=s.materialOptions.find(d=>d.value.id===o))==null?void 0:r.value)||null:l.data=null}),g(()=>l.data,o=>{o!=null&&o.unit_type?l.unit_type=o.unit_type:l.unit_type=""},{deep:!0}),g(l,o=>{n.value&&(n.value=o)},{deep:!0}),(o,r)=>(v(),y("div",null,[_("div",Y,[_("div",Z,[m(p(D),{options:R.value,placeholder:"Select Material","model-value":c.value,"onUpdate:modelValue":r[0]||(r[0]=d=>c.value=d),"trigger-class":"w-full"},null,8,["options","model-value"])]),_("div",ee,[m(p(D),{options:o.unitTypeOptions,placeholder:"Select Unit Type","model-value":l.unit_type,"onUpdate:modelValue":r[1]||(r[1]=d=>l.unit_type=d),"trigger-class":"w-full"},null,8,["options","model-value"])]),_("div",te,[m(p(F),{type:"number",placeholder:"Enter Quantity","model-value":l.quantity,"onUpdate:modelValue":r[2]||(r[2]=d=>l.quantity=d),"model-valueModifiers":{number:!0},min:"0",step:".01"},null,8,["model-value"])]),o.totalSelected>1?(v(),y("div",ne,[m(p(C),{type:"button",class:"cursor-pointer",size:"icon",variant:"destructive",onClick:f},{default:z(()=>[m(p(K))]),_:1})])):$("",!0)])]))}});export{ue as P,re as _,ie as a,X as u};
