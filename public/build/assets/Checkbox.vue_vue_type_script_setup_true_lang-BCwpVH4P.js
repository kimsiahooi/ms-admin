import{P as F,a as T}from"./index-ChYXgvIw.js";import{c as R,k as E,u as P,d as A,l as M,w as j,m as N,P as O,e as D}from"./RovingFocusGroup-BLXb9mkX.js";import{d as V,c as b,O as z,U,h,o as y,w as p,e as k,u as a,n as w,N as L,i as H,D as S,$ as J,f as Q,y as W}from"./app-CAzhD4MS.js";import{a as q,u as X,l as Y}from"./useForwardExpose-BdSUi2Nz.js";import{a as I,i as B,C as Z}from"./check-tZQ839qP.js";import{u as G}from"./useFormControl-gi-vNKXZ.js";import{_ as ee}from"./VisuallyHiddenInput-CF-N6lhI.js";function K(l,r){return I(l)?!1:Array.isArray(l)?l.some(e=>B(e,r)):B(l,r)}const[ae,pe]=R("CheckboxGroupRoot");function g(l){return l==="indeterminate"}function _(l){return g(l)?"indeterminate":l?"checked":"unchecked"}const te=V({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const r=l,e=E(),d=P(),c=b(()=>r.tabStopId||d),v=b(()=>e.currentTabStopId.value===c.value),{getItems:s,CollectionItem:u}=A();z(()=>{r.focusable&&e.onFocusableItemAdd()}),U(()=>{r.focusable&&e.onFocusableItemRemove()});function m(t){if(t.key==="Tab"&&t.shiftKey){e.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const i=M(t,e.orientation.value,e.dir.value);if(i!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!r.allowShiftKey&&t.shiftKey)return;t.preventDefault();let n=[...s().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(i==="last")n.reverse();else if(i==="prev"||i==="next"){i==="prev"&&n.reverse();const f=n.indexOf(t.currentTarget);n=e.loop.value?j(n,f+1):n.slice(f+1)}L(()=>N(n))}}return(t,i)=>(y(),h(a(u),null,{default:p(()=>[k(a(F),{tabindex:v.value?0:-1,"data-orientation":a(e).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:i[0]||(i[0]=n=>{t.focusable?a(e).onItemFocus(c.value):n.preventDefault()}),onFocus:i[1]||(i[1]=n=>a(e).onItemFocus(c.value)),onKeydown:m},{default:p(()=>[w(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[oe,se]=R("CheckboxRoot"),le=V({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:r}){const e=l,d=r,{forwardRef:c,currentElement:v}=q(),s=ae(null),u=X(e,"modelValue",d,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),m=b(()=>(s==null?void 0:s.disabled.value)||e.disabled),t=b(()=>I(s==null?void 0:s.modelValue.value)?u.value==="indeterminate"?"indeterminate":u.value:K(s.modelValue.value,e.value));function i(){if(I(s==null?void 0:s.modelValue.value))u.value=g(u.value)?!0:!u.value;else{const o=[...s.modelValue.value||[]];if(K(o,e.value)){const $=o.findIndex(C=>B(C,e.value));o.splice($,1)}else o.push(e.value);s.modelValue.value=o}}const n=G(v),f=b(()=>{var o;return e.id&&v.value?(o=document.querySelector(`[for="${e.id}"]`))==null?void 0:o.innerText:void 0});return se({disabled:m,state:t}),(o,$)=>{var C,x;return y(),h(W((C=a(s))!=null&&C.rovingFocus.value?a(te):a(F)),S(o.$attrs,{id:o.id,ref:a(c),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":a(g)(t.value)?"mixed":t.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||f.value,"data-state":a(_)(t.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:(x=a(s))!=null&&x.rovingFocus.value?!m.value:void 0,onKeydown:J(Q(()=>{},["prevent"]),["enter"]),onClick:i}),{default:p(()=>[w(o.$slots,"default",{modelValue:a(u),state:t.value}),a(n)&&o.name&&!a(s)?(y(),h(a(ee),{key:0,type:"checkbox",checked:!!t.value,name:o.name,value:o.value,disabled:m.value,required:o.required},null,8,["checked","name","value","disabled","required"])):H("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),re=V({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:r}=q(),e=oe();return(d,c)=>(y(),h(a(O),{present:d.forceMount||a(g)(a(e).state.value)||a(e).state.value===!0},{default:p(()=>[k(a(F),S({ref:a(r),"data-state":a(_)(a(e).state.value),"data-disabled":a(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":d.asChild,as:d.as},d.$attrs),{default:p(()=>[w(d.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ve=V({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:r}){const e=l,d=r,c=Y(e,"class"),v=D(c,d);return(s,u)=>(y(),h(a(le),S({"data-slot":"checkbox"},a(v),{class:a(T)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class)}),{default:p(()=>[k(a(re),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[w(s.$slots,"default",{},()=>[k(a(Z),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{ve as _};
