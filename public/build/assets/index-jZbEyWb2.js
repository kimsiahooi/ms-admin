import{c as T,_ as S}from"./index-BFLydQ1P.js";import{_ as w}from"./FormCombobox.vue_vue_type_script_setup_true_lang-DMVTLrzV.js";import"./FormError.vue_vue_type_script_setup_true_lang-Dn4XFFZq.js";import{_ as D}from"./FormInput.vue_vue_type_script_setup_true_lang-BcUaJcPU.js";import{_ as N}from"./FormSelect.vue_vue_type_script_setup_true_lang-vxtZEdF6.js";import{d as O,b2 as x,bE as R,A as q,c as f,r as B,j as v,a as V,o as C,b as p,e as s,u as m,w as E,i as L}from"./app-DXF5ZDlf.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=T("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=T("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function j(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}let _;const z=new Uint8Array(16);function H(){if(!_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_=crypto.getRandomValues.bind(crypto)}return _(z)}const Q=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),M={randomUUID:Q};function F(e,t,i){var c;if(M.randomUUID&&!t&&!e)return M.randomUUID();e=e||{};const o=e.random??((c=e.rng)==null?void 0:c.call(e))??H();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){if(i=i||0,i<0||i+16>t.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let d=0;d<16;++d)t[i+d]=o[d];return t}return j(o)}const G=()=>({uuid:F}),J={class:"flex flex-col gap-2 md:flex-row"},K={class:"flex-1"},W={class:"flex-1"},X={class:"flex-1"},Y={key:0},le=O({__name:"MaterialSelect",props:x({materialOptions:{},unitTypeOptions:{},totalSelected:{},currIndex:{}},{modelValue:{},modelModifiers:{}}),emits:x(["remove"],["update:modelValue"]),setup(e,{emit:t}){var I,h,U,g,k,b;const i=e,o=R(e,"modelValue"),c=t,{uuid:d}=G(),y=q(((h=(I=o.value)==null?void 0:I.data)==null?void 0:h.id)||""),A=f(()=>i.materialOptions.map(n=>({...n,value:n.value.id}))),u=B({key:((U=o.value)==null?void 0:U.key)||d(),data:((g=o.value)==null?void 0:g.data)||null,quantity:((k=o.value)==null?void 0:k.quantity)||"",unit_type:((b=o.value)==null?void 0:b.unit_type)||""}),$=()=>{c("remove",u.key)};return v(y,n=>{var l;n?u.data=((l=i.materialOptions.find(r=>r.value.id===n))==null?void 0:l.value)||null:u.data=null}),v(()=>u.data,n=>{n!=null&&n.unit_type?u.unit_type=n.unit_type:u.unit_type=""},{deep:!0}),v(u,n=>{o.value&&(o.value=n)},{deep:!0}),(n,l)=>(C(),V("div",null,[p("div",J,[p("div",K,[s(m(w),{label:"Material",options:A.value,"model-value":y.value,"onUpdate:modelValue":l[0]||(l[0]=r=>y.value=r),"error-key":`materials.${n.currIndex}.id`},null,8,["options","model-value","error-key"])]),p("div",W,[s(m(N),{label:"Unit Type",options:n.unitTypeOptions,"model-value":u.unit_type,"onUpdate:modelValue":l[1]||(l[1]=r=>u.unit_type=r),"error-key":`materials.${n.currIndex}.unit_type`},null,8,["options","model-value","error-key"])]),p("div",X,[s(m(D),{label:"Quantity",type:"number","model-value":u.quantity,"onUpdate:modelValue":l[2]||(l[2]=r=>u.quantity=r),step:".01","error-key":`materials.${n.currIndex}.quantity`},{default:E(()=>[n.totalSelected>1?(C(),V("div",Y,[s(m(S),{type:"button",class:"cursor-pointer",size:"icon",variant:"destructive",onClick:$},{default:E(()=>[s(m(P))]),_:1})])):L("",!0)]),_:1},8,["model-value","error-key"])])])]))}});var Z=(e=>(e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e))(Z||{});const re={ACTIVE:"Active",INACTIVE:"Inactive"};export{ie as P,re as S,le as _,Z as a,G as u};
